-ci-list": "* [Travis CI](/docs/setup/travis-ci)\n* [CircleCI](/docs/setup/circleci)\n* [Semaphore](/docs/setup/semaphore)\n* [Codeship](/docs/setup/codeship)\n* [Buildkite](/docs/setup/buildkite)\n* [Drone](/docs/setup/drone)\n* [Jenkins](/docs/setup/jenkins)\n* [Local development](/docs/setup/local)"
        "-client-list-javascript": '  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n',
        "-client-list": '<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n',
        "-integrations-list": "* [GitHub](/docs/integrations/github)\n* [GitHub Enterprise](/docs/integrations/github-enterprise)\n* [GitLab](/docs/integrations/gitlab)\n* [Bitbucket](/docs/integrations/bitbucket)\n",
        "-tutorials-list": "* [Example apps](/docs/tutorials/example-apps)\n* [Ember tutorial](/docs/tutorials/ember)\n* [Rails tutorial](/docs/tutorials/rails)\n* [Storybook for React tutorial](/docs/tutorials/storybook-for-react)\n",
        api: {
            "javascript-client": '# JavaScript API client\n#### [percy-js on GitHub <i class="fa fa-github" aria-hidden="true"></i>](https://github.com/percy/percy-js)\n\n[![Build Status](https://travis-ci.org/percy/percy-js.svg?branch=master)](https://travis-ci.org/percy/percy-js)\n[![Package Status](https://img.shields.io/npm/v/percy-client.svg)](https://www.npmjs.com/package/percy-client)\n\nJavaScript API client library for [Percy](https://percy.io).\n\n<div class="Alert Alert--warning">\n  <strong>NOTE:</strong> This is a low-level API library, you probably want to use a higher-level framework plugin. Check out:\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n</div>\n\n## Contributing\n\n1.  Fork it ([https://github.com/percy/percy-js/fork](https://github.com/percy/percy-js/fork))\n2.  Create your feature branch (`git checkout -b my-new-feature`)\n3.  Commit your changes (`git commit -am \'Add some feature\'`)\n4.  Push to the branch (`git push origin my-new-feature`)\n5.  Create a new Pull Request\n\n### Running Tests\n\n* `npm run test`\n* `npm run tdd`\n',
            reference: '# API Reference\n\nPercy\'s API is based on the [JSON API](http://jsonapi.org/) standard. We\'re working on stabilizing our API before committing to a public v1 API.\n\nIn the meantime, check out the client libraries, the official low-level API clients, or send us feedback about how you plan to use the Percy API.\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n',
            "ruby-client": "# Ruby API client\n#### [Percy::Client on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/percy-client)\n\n[![](https://travis-ci.org/percy/percy-client.svg?branch=master)](https://travis-ci.org/percy/percy-client)\n[![](https://badge.fury.io/rb/percy-client.svg)](https://rubygems.org/gems/percy-client)\n\nRuby API client library for [Percy](https://percy.io).\n\n<div class=\"Alert Alert--warning\">\n\n**NOTE:** This is the low-level Percy API clientâ€”you probably want to use the [Capybara client](/docs/clients/ruby/capybara) or the Ruby [command-line interface](/docs/clients/ruby/cli) instead.\n\n</div>\n\n## Installation\n\nAdd this line to your application's Gemfile:\n\n```ruby\ngem 'percy-client'\n```\n\nAnd then run:\n\n```bash\n$ bundle install\n```\n\nOr install it yourself with `gem install percy-client`.\n\n## Authentication\n\n```ruby\nrequire 'percy'\nPercy.config.access_token = '<PERCY WRITE-ONLY REPO TOKEN>'\n```\n\nAlternatively, you can set the `PERCY_TOKEN` environment variable. Each repository has it's own write-only token, which can be found in Percy _Settings_ page for the repo.\n\n## Usage\n\nThere are four steps to working with Percy:\n\n1.  Create a build.\n2.  Create a snapshot for each HTML page, and indicate the resources that this page loads.\n3.  Upload any missing resources.\n4.  Finalize the build.\n\n### Create a build\n\n```ruby\nbuild = Percy.create_build('repo/slug')\n```\n\nOr, to use the current Git repository name:\n\n```ruby\nbuild = Percy.create_build(Percy.client.config.repo)\n```\n\n### Create a snapshot\n\n```ruby\nhtml = File.read('./site/index.html')\ncss = File.read('./site/css/main.css')\nresources = [\n  Percy::Client::Resource.new('/index.html', is_root: true, content: html),\n  Percy::Client::Resource.new('/css/main.css', content: css),\n]\nsnapshot = Percy.create_snapshot(build['data']['id'], resources)\nPercy.finalize_snapshot(snapshot['data']['id'])\n```\n\nThe `is_root: true` param indicates the resource that is the main HTML resource of this snapshot, ie. the page that should be rendered. There must be exactly one root resource in a snapshot.\n\nThe API will automatically guess the resource mimetype based on the extension. If the URL doesn't have an extension, you can pass the `mimetype: 'text/html'` param to the `Percy::Client::Resource` object to explicitly set it.\n\nUnlike calling `finalize_build` later, the call to `finalize_snapshot` is not strictly required. It is recommended, however, so that Percy can start processing the snapshot earlier and the build can be processed faster. If not called, Percy will wait to process snapshots until the build is finalized.\n\n### Upload any missing resources\n\nFor performance reasons, resources are uploaded after the snapshot is created. Each snapshot API call returns a list of resource SHAs that have never been uploaded before and the client must followup and upload all the \"missing\" resources. This way, resources are only ever uploaded once and never re-uploaded unless they change.\n\nThe client uploads the \"missing\" resources:\n\n```ruby\nmissing_resources = snapshot['data']['relationships']['missing-resources']['data']\nmissing_resources.each do |missing_resource|\n  missing_resource_sha = missing_resource['id']\n  resource = resources.find { |r| r.sha == missing_resource_sha }\n  Percy.upload_resource(build['data']['id'], resource.content)\nend\n```\n\n### Finalize the build\n\nOnce all missing resources from all snapshots are uploaded, the client can finalize the build.\n\n```ruby\nPercy.finalize_build(build['data']['id'])\n```\n\nDone! After this, the build will finishing processing, creating screenshots and visual diffs, and the build can be viewed in Percy.\n\n## Environment variables\n\nYou can set [Percy environment variables](/docs/learn/env-vars) and they will override environment discovery.\n\n## Changelog\n\n*   [percy-client releases on GitHub](https://github.com/percy/percy-client/releases)\n\n## Contributing\n\n1.  Fork it ([https://github.com/percy/percy-client/fork](https://github.com/percy/percy-client/fork))\n2.  Create your feature branch (`git checkout -b my-new-feature`)\n3.  Commit your changes (`git commit -am 'Add some feature'`)\n4.  Push to the branch (`git push origin my-new-feature`)\n5.  Create a new Pull Request\n"
        },
        clients: {
            "-do-setup-first": '<div class="Alert Alert--info">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n',
            javascript: {
                ember: "# Percy for Ember\n#### [ember-percy on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/ember-percy)\n\n[![Package Status](https://img.shields.io/npm/v/ember-percy.svg)](https://www.npmjs.com/package/ember-percy)\n[![Build Status](https://travis-ci.org/percy/ember-percy.svg?branch=master)](https://travis-ci.org/percy/ember-percy)\n\nEmber addon for visual regression testing with [Percy](https://percy.io).\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nRequires Node >= 0.12.0.\nRequires `ember-cli` >= 1.13.13, preferably >= 2.4.0.\n\n1. `ember install ember-percy`\n1. Add `import './percy/register-helpers';` to `tests/helpers/start-app.js`. This registers the Percy test helpers for all acceptance tests.\n1. Add `\"globals\": {\"percySnapshot\": true}` to `tests/.eslintrc` to avoid \"percySnapshot is not defined\" errors.\n\n## Usage\n\n```javascript\npercySnapshot(name);\npercySnapshot(name, options);\n```\n\n`options` is an optional hash that can include:\n\n* `scope`: A CSS selector or element to snapshot. Defaults to the full page.\n\nExamples:\n\n```javascript\npercySnapshot('homepage');\n```\n\n```javascript\npercySnapshot('homepage', {scope: '#header'});\n```\n\n### Autogenerated name for Mocha tests\n\nYou can pass `this.test` to autogenerate the snapshot name, for example:\n\n```javascript\npercySnapshot(this.test);\n```\n\nThis will automatically name the snapshot from the test title, like _\"Acceptance: Marketing pages can visit /about\"_.\n\n### Autogenerated name for QUnit tests\n\nYou can pass the `assert` object to autogenerate the snapshot name, for example:\n\n```javascript\npercySnapshot(assert);\n```\n\nThis will automatically name the snapshot from the test title, like _\"Acceptance | Marketing pages | can visit /about\"_.\n\n### Acceptance test example\n\n```javascript\ndescribe('Acceptance: Marketing pages', function() {\n  it('can visit /about', function() {\n    visit('/about');\n    percySnapshot('about page');\n\n    click('#person1');\n    percySnapshot('about page (person details)');\n  });\n});\n```\n\n### Component integration test example\n\n```javascript\nimport { percySnapshot } from 'ember-percy';\n\ndescribeComponent(\n  'meter-bar',\n  'Integration: MeterBarComponent',\n  {\n    integration: true\n  },\n  function() {\n    it('renders', function() {\n      this.set('count', 0);\n      this.render(hbs`{{meter-bar count=count total=100}}`);\n      percySnapshot('meter bar zero');\n\n      this.set('count', 50);\n      percySnapshot('meter bar half');\n\n      this.set('count', 100);\n      percySnapshot('meter bar full');\n    });\n  }\n);\n```\n\n## Freezing time and dynamic data\n\nAs you start to introduce visual testing into your workflow, you might find that the passing of time or generated data from tools like [faker](https://github.com/marak/Faker.js/) can cause visual diffs.\n\nIt's fairly easy to stabilize these diffs. Tools like faker often allow you to provide a [seed](https://github.com/marak/Faker.js/#setting-a-randomness-seed) to ensure that the same data is generated each time faker is run. Libraries like [ember-mockdate-shim](https://github.com/Ticketfly/ember-mockdate-shim) allow you to override the current date, eliminating variations due to the screenshots being taking at a different date and time. If you use Math.random, you can seed it with [seedrandom](https://github.com/davidbau/seedrandom).\n\n## Separate build and test steps\nIf you're running your ember tests with the `--path` flag to test an app pre-built with `ember build -o`, you may need to\nmodify your commands to ensure the test environment is setup correctly.\n\nIn your `ember build` command, use the `--environment=test` flag:\n```bash\nember build --environment=test -o dist\n```\n\nRun your `ember test` command with the `EMBER_ENV` variable set to test:\n```bash\nEMBER_ENV=test ember test --path=dist\n```\n\n\n## Responsive visual diff setup\n\nYou can use Percy [responsive visual diffs](/docs/learn/responsive) to test at different CSS breakpoints.\n\nIn your app's `config/environment.js`:\n\n```javascript\nif (environment === 'test') {\n  // ...\n  ENV.percy = {\n    breakpointsConfig: {\n      mobile: 375,\n      tablet: 768,\n      desktop: 1280\n    },\n    defaultBreakpoints: ['mobile', 'desktop']\n  }\n}\n```\n\nWith the above configuration, all snapshots will render at both the `mobile` and `desktop`\nbreakpoints by default.\n\nYou can override this on a per-snapshot basis by passing the `breakpoints` option to `percySnapshot()`.\nFor example:\n\n```javascript\n// Desktop-only snapshot:\npercySnapshot('meter bar full', {breakpoints: ['desktop']});\n```\n\n## GitHub integration\n\nPercy **automatically integrates with GitHub PRs**, so you can do visual reviews with each PR's code review.\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\nSee our [GitHub integration](/docs/integrations/github) docs for more info.\n\n## Troubleshooting\n\n  * Missing fonts in Percy? Make sure that your `tests/index.html` mirrors your main `index.html` file. You should include any fonts or external stylesheets in both places.\n\n## Other resources\n\n<iframe style=\"max-width: 1000px\" width=\"100%\" height=\"563\" src=\"https://www.youtube-nocookie.com/embed/iECnXK9EqA4\" frameborder=\"0\" allowfullscreen></iframe>\n\n* EmberSF meetup video: [Continuous Visual Integration for Ember by Mike Fotinakis](https://www.youtube.com/watch?v=iECnXK9EqA4)\n* EmberScreencasts video: [Introduction to Visual Regression Testing](https://www.emberscreencasts.com/posts/160)\n\n## Contributing\n\n1. Fork it ( https://github.com/percy/ember-percy/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new pull request\n\n[Throw a â˜… on it!](https://github.com/percy/ember-percy) :)\n",
                "react-storybook": "# Percy for Storybook for React\n#### [percy-storybook on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/percy-storybook)\n\n[![Package Status](https://img.shields.io/npm/v/@percy-io/percy-storybook.svg)](https://www.npmjs.com/package/@percy-io/percy-storybook)\n[![Build Status](https://travis-ci.org/percy/percy-storybook.svg?branch=master)](https://travis-ci.org/percy/percy-storybook)\n\nThis adds [Percy](https://percy.io) visual testing and review to your [**Storybook for React**](https://storybook.js.org/).  If you use React without Storybook see our [React](/docs/clients/javascript/react) page.\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\n1. Add as a dev dependency: `npm i --save-dev @percy-io/percy-storybook`\n1. Open your **package.json**, and add a script: `\"snapshot\": \"build-storybook && percy-storybook --widths=320,1280\"`\n1. Update your **.storybook/config.js**:\n\nAdjust the existing line that imports `@storybook/react`:\n\n```javascript\n// On the line that imports from @storybook/react, add getStorybook and setAddon\nimport { configure, getStorybook, setAddon } from '@storybook/react';\n```\n\nAdd the following before you configure your stories:\n\n```javascript\nimport createPercyAddon from '@percy-io/percy-storybook';\nconst { percyAddon, serializeStories } = createPercyAddon();\nsetAddon(percyAddon);  \n```\n\nAdd the following at the end of your config.js file:\n\n```javascript\n// NOTE: if you're using the Storybook options addon, call serializeStories *BEFORE* the setOptions call\nserializeStories(getStorybook);\n```\n\n\n## Usage\n\nAfter you've setup the `PERCY_TOKEN` and `PERCY_PROJECT` environment variables, run:\n\n```bash\n$ npm run snapshot\n```\n\nThis will run Storybook's build-storybook command to create a static site from your storybook, and will upload your stories to Percy to generate screenshots from them.  You'll want to add `storybook-static` to your .gitignore file if you run this locally.\n\n## Freezing time and dynamic data\n\nAs you start to introduce visual testing into your workflow, you might find that the passing of time or generated data from tools like [faker](https://github.com/marak/Faker.js/) can cause visual diffs.\n\nIt's fairly easy to stabilize these diffs. Tools like faker often allow you to provide a [seed](https://github.com/marak/Faker.js/#setting-a-randomness-seed) to ensure that the same data is generated each time faker is run. Libraries like [MockDate](https://github.com/boblauer/MockDate) allow you to override the current date, eliminating variations due to the screenshots being taking at a different date and time. If you use Math.random, you can seed it with [seedrandom](https://github.com/davidbau/seedrandom).\n\nPercy provides an `inPercy` function that you can use in your Storybook's config.js if you'd prefer that these adjustments only have an effect when running in Percy's rendering environment.  Add the [@percy-io/in-percy](https://www.npmjs.com/package/@percy-io/in-percy) package if you'd like to use inPercy.\n\nYou can see an example of how this type of stabilization can be done in this  [storybook/config.js](https://github.com/percy/percy-storybook/blob/master/integration-tests/storybook-for-react/storybook/config.js).\n\n\n## Global Options\n\nThese options can be appended to the percy-storybook command in the script tag in your **package.json** file:\n\n* **widths** - Specify multiple widths to screenshot your stories at.  eg. `--widths=320,1280`\n* **minimum_height** - Specify the minimum height of story screenshots.  eg. `--minimum_height=300`\n* **build_dir** - By default, percy-storybook looks for the static storybook in the `storybook-static` directory.  If you use build-storybook with a custom output directory, use build_dir instruct percy-storybook where to find it. eg. `--build_dir=my-static-storybook`\n* **rtl** - Process all stories a second time in RTL.  eg. `--rtl`\n* **rtl_regex** - Process stories with matching names a second time in RTL. eg. `--rtl_regex=unidirectional`\n* **debug** - Provides additional debugging information. eg. `--debug`\n\n\n## Per-Story Options\n\nYou can **override** options on a per-story basis by adding stories with `addWithPercyOptions` instead of `add`.  These options will trump the Global Options specified for the storybook.\n\n`addWithPercyOptions` takes 3 parameters: the story name, the percyOptions, and the story function.  If you've been calling `add` to add the story previously, simply change it to `addWithPercyOptions` and insert percyOptions as the second parameter.\n\n#### Available options:\n\n* **widths** - An array of widths as integers for this story.\n* **rtl** - A boolean value specifying whether this story should additionally be run in a RTL direction.\n* **skip** - A boolean value specifying whether this story should be skipped (default: false).  You might want to use this for stories that use Storybook's knobs addon.\n\n#### Examples:\nHave a look at the storybook in [percy-storybook](https://github.com/percy/percy-storybook/tree/master/integration-tests/storybook-for-react) for an example of how to use `.addWithPercyOptions`. including ways to use it in conjunction with other add-ons.  Here's a simple example:\n\n```javascript\nstoriesOf('My basic span', module)\n  .addWithPercyOptions('with multiple widths', { widths: [222, 333], rtl: true }, () =>\n    <span>This span renders in widths of 222px and 333px</span>,\n  )\n```\n\n\n\n## RTL Direction Support\n\nPercy supports taking screenshots of your stories a second time in the RTL direction.\n\n* To process all stories in the RTL direction, use the `--rtl` option.  To process only a subset in RTL, use the `--rtl_regex` option and provide a regex that will match the names of the stories you want to capture in RTL.\n* Stories you have selected for RTL processing will be processed twice.  Once normally, and then a second time with `[RTL]` appended to their name, and with a `direction=rtl` url param provided.\n* It's up to the stories to process the direction url param and respond appropriately.  You can see a basic example of how this can be done in our [Direction Demo test story](https://github.com/percy/percy-storybook/blob/master/integration-tests/storybook-for-react/stories/index.js).\n\n## GitHub integration\n\nPercy **automatically integrates with GitHub pull requests**, so you can do visual reviews with each PR's code review.\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\nSee our [GitHub integration](/docs/integrations/github) docs for more info.\n\n## Troubleshooting\n\nIf you see an error message `Storybook object not found on window.` and followed all of the installation instructions, then please add the debug flag to the script command in your **package.json file**:\n\n```json\n  \"snapshot\": \"build-storybook && percy-storybook --width=320,1280 --debug\"\n```\n\nRun `npm run snapshot` again, and email the output to [hello@percy.io](mailto:hello@percy.io).\n\n\n## Contributing\n\n1. Fork it ( https://github.com/percy/percy-storybook/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new pull request\n\n[Throw a â˜… on it!](https://github.com/percy/percy-storybook) :)\n",
                react: "# Percy for React\n\n#### [react-percy on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/react-percy)\n\n[![Package Status](https://img.shields.io/npm/v/@percy/react.svg)](https://www.npmjs.com/package/@percy/react)\n[![Build Status](https://travis-ci.org/percy/react-percy.svg?branch=master)](https://travis-ci.org/percy/react-percy)\n\nVisual regression testing for React components with Percy.\n\nIf you use Storybook for React, please see [Percy for Storybook](/docs/clients/javascript/react-storybook).<br>\nIf you use react-rails, please see the [Percy for Rails](/docs/clients/ruby/capybara-rails).\n\n<div class=\"Alert Alert--warning\">\n\n**Beta release.** Percy for React is in beta. It may change in backwards-incompatible ways until v1.0.0 is released.\n\nPlease submit any feedback or issues on the [GitHub issue tracker](https://github.com/percy/react-percy/issues).\n\n</div>\n\n## Setup\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nInstall `@percy/react` using `npm`:\n\n```sh\nnpm install --save-dev @percy/react\n```\n\nOr using `yarn`:\n\n```sh\nyarn add --dev @percy/react\n```\n\n\nAdd the following section to your `package.json`:\n\n```json\n{\n  \"scripts\": {\n    \"percy\": \"react-percy\"\n  }\n}\n```\n\n## Usage\n\nLet's get started by creating a snapshot for a React component in your project. Suppose you have a `Button` component in a file called `Button.js`:\n\n```javascript\nimport React from 'react';\n\nexport default class Button extends React.Component {\n  render() {\n    return <button>{this.props.children}</button>;\n  }\n}\n```\n\nCreate a new file `Button.percy.js`. This will contain our Percy snapshot:\n\n```javascript\nimport React from 'react';\nimport Button from './Button';\n\npercySnapshot('Button', () => {\n  return <Button>My Button</Button>\n});\n```\n\nThat's it!\n\nNow, whenever CI runs, a snapshot of the `Button` component will be uploaded to Percy for visual regression testing!\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\n## ESLint Configuration\n\nIf your project uses ESLint, you will want to whitelist the `react-percy` globals to avoid \"percySnapshot is not defined\" errors. The easiest way to do this is using `eslint-plugin-react-percy`.\n\nInstall `eslint-plugin-react-percy` using `npm`:\n\n```sh\nnpm install --save-dev eslint-plugin-react-percy\n```\n\nOr using `yarn`:\n\n```sh\nyarn add --dev eslint-plugin-react-percy\n```\n\nAdd `react-percy` to the plugins section of your `.eslintrc` configuration file:\n\n```json\n{\n  \"plugins\": [\n    \"react-percy\"\n  ]\n}\n```\n\nYou can whitelist the environment variables provided by `react-percy` by doing:\n\n```json\n{\n  \"env\": {\n    \"react-percy/globals\": true\n  }\n}\n```\n\nIf you're using ESLint v4.1.0 or later, you can instead scope the `react-percy` environment variables to only `react-percy` snapshot files by doing:\n\n```json\n{\n  \"overrides\": [\n    {\n      \"files\": [\n        \"**/*.percy.{js,jsx}\"\n      ],\n      \"env\": {\n        \"react-percy/globals\": true\n      }\n    }\n  ]\n}\n```\n\n## Advanced configuration\n\n### Webpack configuration\n\nThe default Webpack configuration of `react-percy` will run Babel on all `.js` and `.jsx` files in your project, with support for all modern JS language features.\n\nIf your project is a non-ejected `create-react-app`, we also automatically include `create-react-app` Webpack rules for CSS and image files.\n\nOtherwise, if you already have your own Webpack setup, `react-percy` will not use it by default. However, we allow you to customize our Webpack setup by creating a `percy.config.js` file in your project's root directory and including an object with any custom Webpack settings.\n\n#### Reusing webpack config\n\nIf you have a particularly complex Webpack config, you may wish to simply reuse it rather than rewriting your rules and plugins in `percy.config.js`.\n\nTo do so, you can import your Webpack config in `percy.config.js` and set it as the `webpack` field like so:\n\n```javascript\nimport config from './webpack.config.js';\n\nexport default {\n  webpack: config\n};\n```\n\nKeep in mind that we ignore the `entry` and `output` fields of your Webpack settings, so if your Webpack config has any plugins that rely on these you may encounter errors. For example, the Webpack `CommonsChunkPlugin` often refers to specific `entry` names, but as we ignore your original `entry` settings it will not be able to find them.\n\nAlso remember that the `webpack` field must be a plain object; it cannot be an array or a function.\n\n#### Custom Webpack config\n\nFor example, let's say you wanted to add SCSS support in your snapshots. Simply add the following to a file called `percy.config.js` in your project's root directory:\n\n```javascript\nexport default {\n  webpack: {\n    module: {\n      rules: [\n        {\n          test: /\\.scss$/,\n          loaders: ['style-loader', 'css-loader', 'sass-loader']\n        }\n      ]\n    }\n  }\n};\n```\n\nYou can also provide plugins:\n\n```javascript\nimport webpack from 'webpack';\n\nexport default {\n  webpack: {\n    plugins: [\n      new webpack.DefinePlugin({\n        'process.env.CUSTOM_ENV': '\"foo\"',\n      }),\n    ]\n  }\n};\n```\n\n#### Supported Webpack options\n\nThere are a few things to keep in mind when customizing our Webpack configuration.\n\nYou can add almost any Webpack config options in `percy.config.js`, including rules, plugins, and aliases. But you will not be able to modify the entry or output fields.\n\nAlso note that the `webpack` field in `percy.config.js` must be an object. Unlike a plain `webpack.config.js` file, it cannot be a function or an array.\n\n#### Including entry files\n\nAs noted above, `react-percy` ignores the `entry` section of your Webpack settings and instead only builds Percy snapshot files and their imports. If your original Webpack `entry` includes additional global files like `babel-polyfill` or CSS files that you want to include in all snapshots, you can include them by creating a `percy.config.js` file in your project's root directory and adding an `includeFiles` setting like so:\n\n```javascript\nexport default {\n  includeFiles: [\n    'babel-polyfill',\n    './styles/global.css'\n  ]\n};\n```\n\nThese files can be package names or relative paths to files within your project. Note that relative paths will be resolved from the root directory of your project.\n\nAny packages or files listed there will be loaded before any snapshots.\n\n## Best practices\n\n### Percy snapshot files\n\n`react-percy` looks for files in your project ending with `.percy.js` or `.percy.jsx`.\n\nWe recommend keeping your Percy snapshots close to the components being tested, but it's entirely up to you!\n\nOne common pattern is to add Percy snapshot files right next to the component files. So if you have a component in `src/components/Button.js`, you would add its snapshots in `src/components/Button.percy.js`.\n\nAnother common pattern is to keep Percy snapshots in a `__percy__` folder. For the above example, that would be `src/components/__percy__/Button.percy.js`.\n\n### Basic snapshots\n\n```javascript\npercySnapshot(name, fn)\n```\n\nThe first argument is the snapshot name; the second argument is a function that returns the React markup to snapshot. For example:\n\n```javascript\npercySnapshot('Button', () => {\n  return <Button>My Button</Button>;\n});\n```\n\nThe name is what you will see when reviewing snapshots in Percy's web interface, and must be unique across all snapshots in your project. In the above example, the snapshot will be named \"Button\".\n\nThe function may include any necessary setup, but must ultimately return the React markup to snapshot.\n\n### Testing multiple breakpoints\n\n```javascript\npercySnapshot(name, options, fn)\n```\n\nA powerful feature of Percy is visual regression testing for responsive designs. To take snapshots of your component at multiple breakpoints, simply specify the widths to use via the optional middle `options` argument:\n\n```javascript\npercySnapshot('Button', { widths: [320, 768, 1024] }, () => {\n  return <Button>My Button</Button>;\n});\n```\n\nThis will take snapshots of \"Button\" at widths of 320px, 768px, and 1024px.\n\n### Hooks\n\nIn some cases while writing Percy snapshots you may have some setup work that needs to happen before snapshots run. This is often useful for setting up props that you'd like to share across multiple snapshots.\n\nFor example, suppose you had a `PlayerInfo` component with multiples variations that share many of the same props. You could initialize the common props in `beforeEach` and use them in each snapshot:\n\n```javascript\nlet props;\n\nbeforeEach(() => {\n  props = {\n    firstName: 'Venus',\n    lastName: 'Williams',\n    age: 37\n  };\n});\n\npercySnapshot('PlayerInfo: basic', () => {\n  return <PlayerInfo {...props} />;\n});\n\npercySnapshot('PlayerInfo: expanded', () => {\n  return <PlayerInfo {...props} country=\"USA\" sport=\"Tennis\" />;\n});\n```\n\n### Grouping snapshots\n\nYou may also group snapshots together using a `suite` block.\n\n`suite` blocks have the added benefit of prefixing the names of all snapshots within them. For example:\n\n```javascript\nsuite('Button', () => {\n  percySnapshot('primary', () => {\n    return <Button primary>Primary Button</Button>;\n  });\n\n  percySnapshot('secondary', () => {\n    return <Button secondary>Secondary Button</Button>;\n  });\n\n  percySnapshot('inverse', () => {\n    return <Button inverse>Inverse Button</Button>;\n  });\n});\n```\n\nThis will generate three snapshots: `Button: primary`, `Button: secondary`, and `Button: inverse`.\n\nYou can also set the widths for all snapshots within a `suite` block:\n\n```javascript\nsuite('Button', { widths: [320, 768] }, () => {\n  percySnapshot('primary', () => {\n    return <Button primary>Primary Button</Button>;\n  });\n\n  percySnapshot('secondary', () => {\n    return <Button secondary>Secondary Button</Button>;\n  });\n\n  percySnapshot('inverse', () => {\n    return <Button inverse>Inverse Button</Button>;\n  });\n});\n```\n\nThis will generate snapshots of each button at both 320px and 768px wide.\n\nYou can override the widths specified on a `suite` on individual snapshots:\n\n```javascript\nsuite('Button', { widths: [320, 768] }, () => {\n  percySnapshot('primary', () => {\n    return <Button primary>Primary Button</Button>;\n  });\n\n  percySnapshot('secondary', () => {\n    return <Button secondary>Secondary Button</Button>;\n  });\n\n  percySnapshot('inverse', { widths: [480, 1024] }, () => {\n    return <Button inverse>Inverse Button</Button>;\n  });\n});\n```\n\nThis will generate snapshots of `Button: primary` and `Button: secondary` at 320px and 768px wide, and \"Button: inverse\" at 480px and 1024px wide.\n\nWhen they are inside a `suite` block, `beforeEach` blocks only apply to the snapshots within that `suite` block:\n\n```javascript\nbeforeEach(() => {\n  // this will run before each snapshot in this file\n});\n\nsuite('Button', () => {\n  beforeEach(() => {\n    // this will only run before \"Button: primary\" and \"Button: secondary\"\n  });\n\n  percySnapshot('primary', () => {\n    return <Button primary>Primary Button</Button>;\n  });\n\n  percySnapshot('secondary', () => {\n    return <Button secondary>Secondary Button</Button>;\n  });\n});\n\nsuite('Textbox', () => {\n  beforeEach(() => {\n    // this will only run before \"Textbox: disabled\"\n  });\n\n  percySnapshot('disabled', () => {\n    return <Textbox disabled />;\n  });\n});\n```\n\nAdditionally, you can nest `suite` blocks within each other, and the names and widths will cascade down:\n\n```javascript\nsuite('Button', { widths: [320, 768] }, () => {\n  percySnapshot('primary', () => {\n    return <Button primary>Primary Button</Button>;\n  });\n\n  percySnapshot('secondary', () => {\n    return <Button secondary>Secondary Button</Button>;\n  });\n\n  suite('submit', () => {\n    percySnapshot('enabled', () => {\n      return <Button submit>Submit Button</Button>;\n    });\n\n    percySnapshot('disabled', () => {\n      return <Button submit disabled>Disabled Submit Button</Button>;\n    });\n  });\n});\n```\n\nThis will generate 320px and 768px wide snapshots of `Button: primary`, `Button: secondary`, `Button: submit: enabled`, and `Button: submit: disabled`.\n\n## Troubleshooting\n\n### Percy is rendering a blank white page\n\nIf you're seeing blank white snapshots in Percy, it usually means an error occurred client-side when loading your snapshot. To debug this, you can run `react-percy` locally with the `--debug` flag so you can load snapshots in your local browser.\n\n```sh\n$ react-percy --debug\n```\n\nAfter running `react-percy` with the `--debug` flag, you'll find a `.percy-debug` folder at the root of your project. Open the `index.html` file inside in your web browser and specify the snapshot you'd like to view as the `snapshot` query parameter.\n\nFor example, if you wanted to debug a snapshot named \"Button: primary\", you would open `file:///path/to/project/.percy-debug/index.html` in your browser and append `?snapshot=Button%3A%20primary` to the URL. Note that the snapshot name is URL encoded. The console output of running `react-percy` with the `--debug` flag will give you the URL-encoded query strings to use to preview any snapshot.\n\n\n### Invariant Violation: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined\n\nThis error typically occurs when you are incorrectly importing your component.\n\nFor example, if your component is exported as a named export, be sure to import it that way:\n\n```javascript\nexport class MyComponent extends React.Component {\n  render() {\n    return <div>My component</div>;\n  }\n}\n```\n\n```javascript\nimport { MyComponent } from './MyComponent';\n```\n\nYou may also see this error if you are mixing ES module imports/exports with CommonJS modules. For example, if your component is using an ES default export but your snapshot file is written in CommonJS, remember to append `.default` to your require import:\n\n```javascript\nexport default class MyComponent extends React.Component {\n  render() {\n    return <div>My component</div>;\n  }\n}\n```\n\n```javascript\nconst MyComponent = require('./MyComponent').default;\n```\n\n## GitHub integration\n\nPercy **automatically integrates with GitHub PRs**, so you can do visual reviews with each PR's code review.\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\nSee our [GitHub integration](/docs/integrations/github) docs for more info.\n\n## Contributing\n\n1. Fork it ( https://github.com/percy/react-percy/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new pull request\n\n[Throw a â˜… on it!](https://github.com/percy/react-percy) :)\n",
                vue: '# Percy for Vue.js\n\n<div class="Alert Alert--warning">\n\n**Hello!** in the coming months we\'ll be launching full support for Vue.js, and we could use your help! If you\'d like to be a beta tester when we\'re ready, please let us know below.\n\n</div>\n\n<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfTk5g9gr04qjjgTc17FTeOQ6fFg-uOVdfHUwHFQx2gjROjGg/viewform?embedded=true" width="960" height="2000" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n',
                webdriverio: "# Percy for WebdriverIO\n#### [percy-webdriverio on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/percy-webdriverio)\n\n[![Package Status](https://img.shields.io/npm/v/@percy-io/percy-webdriverio.svg)](https://www.npmjs.com/package/@percy-io/percy-webdriverio)\n[![Build Status](https://travis-ci.org/percy/percy-webdriverio.svg?branch=master)](https://travis-ci.org/percy/percy-webdriverio)\n\nThis adds [Percy](https://percy.io) visual testing and review to your [**WebdriverIO tests**](http://webdriver.io/).  \n\n<div class=\"Alert Alert--warning\">\n  <b>Beta release.</b> Percy for WebdriverIO is in beta. It may change in backwards-incompatible ways until v1.0.0 is released.\n</div>\n\n## Getting Started\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nInstall `@percy-io/percy-webdriverio` using `npm`:\n\n```sh\nnpm install --save-dev @percy-io/percy-webdriverio\n```\n\nOr using `yarn`:\n\n```sh\nyarn add --dev @percy-io/percy-webdriverio\n```\n\nNext, update your `wdio.conf.js`:\n```js\n  // At the top of the file\n  var percy = require('@percy-io/percy-webdriverio');\n\n  // In the plugins section, add the percy-webdriverio plugin.\n  plugins: {\n    '@percy-io/percy-webdriverio': {}\n  },\n\n  // Before your tests run, instruct Percy on where to find and mount your assets,\n  // and create the build that snapshots will be added to.\n  onPrepare: function (config, capabilities) {\n    var assetLoaders = [percy.assetLoader('filesystem', { buildDir: 'compiled-assets-dir', mountPath: '/assets' })];\n    return percy.createBuild(assetLoaders);\n  },\n\n  // After your tests have completed, finalize the build.\n  onComplete: function(exitCode) {\n    return percy.finalizeBuild();\n  },\n```\n\nThe asset loader instructs Percy where to find your compiled assets in your filesystem, and where\nto make them available. Configurable options:\n\n* `buildDir`: absolute path to your compiled static assets (_not_ source assets).\n* `mountPath`: path prefix to where your webserver serves the assets (ex: `/assets`)\n\nPercy requires the asset loader to be configured correctly so it can quickly find your CSS, images, fonts and other assets required for taking screenshots. If it's misconfigured, you may see screenshots that are missing styles and images.\n\n## Usage\n\nYou're now ready to start taking snapshots with `percySnapshot` in your tests:\n\n```js\ndescribe('Homepage', function() {\n  it('looks very nice', function () {\n    browser.url('http://localhost:3000');\n    browser.percySnapshot('Homepage');\n  });\n});\n```\n\nYou can provide several options to `percySnapshot`:\n\n```js\nbrowser.percySnapshot('name', { widths: [640, 800], enableJavaScript: true, minimumHeight: 400 });\n```\n* `widths`: An array of widths to take screenshots at.\n* `enableJavaScript`: Boolean that instructs Percy whether to run javascript when rendering the page.\n* `minimumHeight`: Adjust the minimum height of your snapshots. The default is 1024px.\n\nYou can take multiple snapshots in the same test:\n\n```js\ndescribe('Homepage', function() {\n  it('button is clickable', function () {\n    browser.url('http://localhost:3000');\n    browser.percySnapshot('Homepage');\n\n    browser.click('#myButton');\n    browser.percySnapshot('Homepage button is clicked');\n  });\n});\n```\n\n\n## Ready to go\nThat's all there is to it.  Run `wdio`, and Percy will take your snapshots and prepare your visual\nreview for you.\n\nWhether running in your CI service or locally, it will take the snapshots as long as you've supplied the `PERCY_TOKEN` and `PERCY_PROJECT` environment variables.\n\n## Freezing time and dynamic data\n\nAs you start to introduce visual testing into your workflow, you might find that the passing of time or generated data from tools like [faker](https://github.com/marak/Faker.js/) can cause visual diffs.\n\nIt's fairly easy to stabilize these diffs. Tools like faker often allow you to provide a [seed](https://github.com/marak/Faker.js/#setting-a-randomness-seed) to ensure that the same data is generated each time faker is run. Libraries like [MockDate](https://github.com/boblauer/MockDate) allow you to override the current date, eliminating variations due to the screenshots being taking at a different date and time. If you use Math.random, you can seed it with [seedrandom](https://github.com/davidbau/seedrandom).\n\n\n## GitHub integration\n\nPercy **automatically integrates with GitHub PRs**, so you can do visual reviews with each PR's code review.\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\nSee our [GitHub integration](/docs/integrations/github) docs for more info.\n\n\n## Contributing\n\n1. Fork it ( https://github.com/percy/percy-webdriverio/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new pull request\n\n[Throw a â˜… on it!](https://github.com/percy/percy-webdriverio) :)\n"
            },
            python: {
                selenium: "# Percy for Python\n#### [python-percy-client on Github <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/python-percy-client)\n\n[![Package Status](https://img.shields.io/pypi/v/percy.svg)](https://pypi.python.org/pypi/percy)\n[![Build Status](https://travis-ci.org/percy/python-percy-client.svg?branch=master)](https://travis-ci.org/percy/python-percy-client)\n\nPython client library for visual regression testing with [Percy](https://percy.io) and Selenium tests.\n\nThis library is in **beta**â€”we welcome contributions to improve it.\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nRequires Python >= 2.7.\n\n```bash\n$ pip install percy\n```\n\n## Setup\n\nThe following assumes that `webdriver` is a Selenium webdriver object of some sort\n(like `webdriver.Chrome()`). Proper setup and teardown of Selenium tests is not included here.\n\nFirst, create a `ResourceLoader` object. This is the configuration for how Percy will discover your app's assets.\n\n```python\nimport percy\n\n# Build a ResourceLoader that knows how to collect assets for this application.\nroot_static_dir = os.path.join(os.path.dirname(__file__), 'static')\nloader = percy.ResourceLoader(\n  root_dir=root_static_dir,\n  # Prepend `/assets` to all of the files in the static directory, to match production assets.\n  # This is only needed if your static assets are served from a nested directory.\n  base_url='/assets',\n  webdriver=webdriver,\n)\n```\n\nNow, create a `percy.Runner` object and initialize a build. This must be done at the beginning of your entire test suite.\n\n```python\npercy_runner = percy.Runner(loader=loader)\npercy_runner.initialize_build()\n```\n\nThen, at the end of your entire test suite, finalize the build (this needs to be run even if tests fail):\n\n```python\npercy_runner.finalize_build()\n```\n\n## Usage\n\nDuring Selenium tests, use `percy_runner.snapshot()` in any test to capture the DOM state and send it to Percy for rendering and visual regression testing.\n\n```python\n# In a Selenium test, you might visit a page like this (this also assumes we're subclassing\n# Django's LiveServerTestCase):\nwebdriver.get(self.live_server_url)\n\npercy_runner.snapshot()\n```\n\n`snapshot` also accepts a `name` to uniquely identify it across builds:\n\n```python\npercy_runner.snapshot(name='homepage')\n```\n\n**Done!** Now commit and push your branch to run your tests in your CI service, or create a GitHub PR.\n\n### Responsive testing\n\nSetup default responsive breakpoints for all snapshots:\n\n```\npercy_config = percy.Config(default_widths=[1280, 375])\npercy_runner = percy.Runner(loader=loader, config=percy_config)\n```\n\nThese are the default responsive widths to be used on every snapshot. They can be overridden on a\nper-snapshot basis by passing the `widths` arg to `snapshot()`.\n\n## Troubleshooting\n\nTo temporarily disable Percy in CI, set the `PERCY_ENABLE=0` environment variable.\n\nSee [Percy usage in the Sentry repository](https://github.com/getsentry/sentry/search?q=percy) for a complete example of Percy integrated in a large Django application and with `pytest` integration.\n\n## Contributing\n\n1. Fork it ( https://github.com/percy/python-percy-client/fork )\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n[Throw a â˜… on it!](https://github.com/percy/python-percy-client) :)\n"
            },
            ruby: {
                "best-practices": "# Percy for Ruby: Best practices\n\n## Waiting for elements with Capybara\n\nCapybara is a powerful Ruby library for automating control of browsers.\n\nCapybara has a [robust internal wait system](https://github.com/teamcapybara/capybara#asynchronous-javascript-ajax-and-friends) that can be used to efficiently wait for certain page elements to appear before continuing. You should never need to write a flaky `sleep` call with Capybara.\n\n### With RSpec tests\n\n```ruby\nexpect(page).to have_css('#new-project')\nexpect(page).to have_content('New Project')\n```\n\nThis will efficiently wait for the `#new-project` element to exist.\n\n### Without RSpec\n\nYou can use Capybara's generic `has_css?`/`has_content?`/`has_xpath?` methods to make sure that the page state is correct before continuing on. You probably will want to raise an exception to stop execution if the query for the element returns false.\n\n```ruby\nraise 'element missing!' unless page.has_css?('#new-project')\nraise 'element missing!' unless page.has_content?('New Project')\n```\n\n### More info\n\n* https://github.com/teamcapybara/capybara#querying\n* https://github.com/teamcapybara/capybara#asynchronous-javascript-ajax-and-friends\n",
                "capybara-other": "# Percy for Ruby apps\n#### [ Percy::Capybara on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/percy-capybara)\n\n[![](https://travis-ci.org/percy/percy-capybara.svg?branch=master)](https://travis-ci.org/percy/percy-capybara)\n[![](https://badge.fury.io/rb/percy-capybara.svg)](https://rubygems.org/gems/percy-capybara)\n\nPercy::Capybara is a library for integrating Percy's visual regression testing into your existing [Capybara](https://github.com/teamcapybara/capybara) feature tests in any Ruby web frameworkâ€”including Rails, Sinatra, etc.\n\nIf you've written feature tests (or \"UI tests\", \"acceptance tests\", etc.), you know how hard it can be to get them right and to get your app in the correct UI state. Percy::Capybara lets you take all the time you've spent building your feature tests and expand them with screenshots and visual regression tests to cover all the visual changes in your app, even behind complex UI states.\n\nThe examples below assume you are using RSpec, but they could be easily adapted for other testing frameworks. If you are using Rails, see the [Percy Rails integration](/docs/clients/ruby/capybara-rails).\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nAdd this line to your application's Gemfile:\n\n```ruby\ngem 'percy-capybara'\n```\n\nAnd then run:\n\n```bash\n$ bundle install\n```\n\nOr install it yourself with `gem install percy-capybara`.\n\n## Setup\n\nTest suites must call two hooks:\n\n* `Percy::Capybara.initialize_build` before running the test suite.\n* `Percy::Capybara.finalize_build` after the test suite is finished, even if tests fail.\n\n<div class=\"Alert Alert--warning\">\n\n**NOTE:** If your builds get stuck <i>\"Receiving...\"</i>, check this configuration first.\n\n</div>\n\n### RSpec\n\nAdd these setup lines to `spec_helper.rb`:\n\n```ruby\nrequire 'percy/capybara'\n\nRSpec.configure do |config|\n  # ...\n\n  config.before(:suite) { Percy::Capybara.initialize_build }\n  config.after(:suite) { Percy::Capybara.finalize_build }\nend\n```\n\n### Cucumber\n\nAdd these lines to `features/support/percy.rb`:\n\n```ruby\nrequire 'percy/capybara'\n\nPercy::Capybara.initialize_build\nat_exit { Percy::Capybara.finalize_build }\n```\n\n### Other test frameworks (MiniTest, etc.)\n\nFor example, with MiniTest you can add this to your `test_helper.rb`:\n\n```ruby\nrequire 'percy/capybara'\n\nPercy::Capybara.initialize_build\nMiniTest.after_run { Percy::Capybara.finalize_build }\n```\n\n## Non-Rails asset setup (Webpack, Sinatra/Rack apps, etc.)\n\nPercy automatically supports the Rails asset pipeline with no configuration, but non-Rails apps will need to add a `use_loader` configuration in order to load assets correctly. This loader config must be setup before `initialize_build` is called.\n\n### Filesystem loader\n\nPercy::Capybara can be used with any asset pipeline, including [webpack](https://webpack.github.io/), by simply pointing it at a directory of compiled assets.\n\n```ruby\nrequire 'percy/capybara'\n\nassets_dir = File.expand_path('../../dist/', __FILE__)\nPercy::Capybara.use_loader(:filesystem, assets_dir: assets_dir, base_url: '/assets')\n```\n\n* `assets_dir`: absolute path to your compiled static assets (_not_ source assets).\n* `base_url`: (optional) path prefix to where your webserver serves the assets (ex: `/assets`)\n\n## Usage\n\nNow the fun part!\n\nYou can integrate with Percy by adding one line to your existing feature specs:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage with dropdown')\n```\n\nFor example:\n\n```ruby\ndescribe 'a feature', type: :feature, js: true do\n  it 'shows the dropdown menu when clicked' do\n    visit '/'\n    first('.dropdown-toggle').click\n    expect(page).to have_selector('#main-dropdown', visible: true)\n\n    Percy::Capybara.snapshot(page, name: 'homepage with dropdown')\n  end\nend\n```\n\n**Done!** ðŸš€ That's it! Now commit and push your branch to run your tests in your CI service, or create a GitHub PR. Snapshots will be uploaded to Percy for rendering and processing visual diffs.\n\n<div class=\"Alert Alert--info\">\n\nBest practices for Capybara and writing feature specs are outside the scope of these docs. See the [Capybara docs](https://github.com/teamcapybara/capybara#using-capybara-with-rspec) for more Capybara usage examples.\n\n</div>\n\n### Responsive visual diffs\n\nYou can use Percy [responsive visual diffs](/docs/learn/responsive) to test pages at different CSS breakpoints.\n\nIn your `spec_helper.rb`, simply set the default widths for all snapshots:\n\n```ruby\nPercy.config.default_widths = [375, 1280]\n```\n\nWith the above configuration, all snapshots will render at both mobile and desktop breakpoints by default.\n\nYou can also override widths per-snapshot:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage', widths: [375, 1280])\n```\n\n### Local dev environments\n\nYou may want to enable Percy locally while getting set up. See [Local development](/docs/setup/local) setup for more info.\n\n### Identifying snapshots\n\nPercy needs to be able to uniquely identify the same snapshot across builds to provide visual diffs.\n\nTo accomplish this, `Percy::Capybara` uses the current page URL as the name of the snapshot. We assume that your app has been built with stateful navigation and that the URL fully identifies the page state.\n\nHowever, there are many cases where this is not enoughâ€”for example, populating test data in the page, or performing a UI interaction that doesn't change the URL (like clicking the dropdown in the example above).\n\nTo manually identify a snapshot, you can provide the `name` parameter:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage (with dropdown clicked)')\n```\n\nThe `name` param can be any string that makes sense to you to identify the page state. It should be unique and remain the same across builds. It is **required** if you are snapshotting a page multiple times with the same URL.\n\n## Advanced\n\n### Including iframes\n\nPercy::Capybara disables iframes by default. We've found that iframes usually don't affect the rendering of the page, and can sometimes timeout and break builds. However, if you'd like to include iframes, use the `include_iframes` option.\n\n```ruby\nPercy::Capybara.use_loader(... , include_iframes: true)\n```\n\n\n## Troubleshooting\n\n### Debug mode\n\nRun with the `PERCY_DEBUG=1` environment variable to see what build resources and snapshots are being created for your build.\n\n### WebMock/VCR users\n\nIf you use [VCR](https://github.com/vcr/vcr) to mock and record HTTP interactions, you need to allow connections to the Percy API:\n\n```ruby\nVCR.configure do |config|\n  config.ignore_hosts 'percy.io'\nend\n```\n\nIf you use [WebMock](https://github.com/bblimke/webmock) to stub out HTTP connections, you need to allow connections to the Percy API:\n\n```ruby\nWebMock.disable_net_connect!(allow: 'percy.io')\n```\n\nIf you still experience problems, and you are using a Webmock version older than 2.0.0, try adding `require: false` to the line in your Gemfile so that Webmock won't block the HTTP request in `initialize_build`:\n\n```ruby\ngem 'webmock', require: false\n```\n\n## Other resources\n\n*   [Percy::Capybara Reference](http://www.rubydoc.info/gems/percy-capybara/Percy/Capybara) on RubyDoc\n\n## Changelog\n\n*   [percy-capybara releases on GitHub](https://github.com/percy/percy-capybara/releases)\n\n## Contributing\n\n1.  Fork it ([https://github.com/percy/percy-capybara/fork](https://github.com/percy/percy-capybara/fork))\n2.  Create your feature branch (`git checkout -b my-new-feature`)\n3.  Commit your changes (`git commit -am 'Add some feature'`)\n4.  Push to the branch (`git push origin my-new-feature`)\n5.  Create a new Pull Request\n\n[Throw a â˜… on it!](https://github.com/percy/percy-capybara) :)\n",
                "capybara-rails": "# Percy for Rails and Capybara\n#### [ Percy::Capybara on GitHub <i class=\"fa fa-github\" aria-hidden=\"true\"></i>](https://github.com/percy/percy-capybara)\n\n[![](https://travis-ci.org/percy/percy-capybara.svg?branch=master)](https://travis-ci.org/percy/percy-capybara)\n[![](https://badge.fury.io/rb/percy-capybara.svg)](https://rubygems.org/gems/percy-capybara)\n\nPercy::Capybara is a library for integrating Percy's visual regression testing into your existing [Capybara](https://github.com/teamcapybara/capybara) feature tests in any Ruby web frameworkâ€”including Rails, Sinatra, etc.\n\nIf you've written feature tests (or \"UI tests\", \"acceptance tests\", etc.), you know how hard it can be to get them right and to get your app in the correct UI state. Percy::Capybara lets you take all the time you've spent building your feature tests and expand them with screenshots and visual regression tests to cover all the visual changes in your app, even behind complex UI states.\n\nThe examples below assume you are using RSpec, but they could be easily adapted for other testing frameworks.\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nAdd this line to your application's Gemfile:\n\n```ruby\ngem 'percy-capybara'\n```\n\nAnd then run:\n\n```bash\n$ bundle install\n```\n\nOr install it yourself with `gem install percy-capybara`.\n\n## Setup\n\nTest suites must call two hooks:\n\n* `Percy::Capybara.initialize_build` before running the test suite.\n* `Percy::Capybara.finalize_build` after the test suite is finished, even if tests fail.\n\n<div class=\"Alert Alert--warning\">\n\n**NOTE:** If your builds get stuck <i>\"Receiving...\"</i>, check this configuration first.\n\n</div>\n\n### RSpec\n\nAdd these setup lines to `spec_helper.rb`:\n\n```ruby\nRSpec.configure do |config|\n  # ...\n\n  config.before(:suite) { Percy::Capybara.initialize_build }\n  config.after(:suite) { Percy::Capybara.finalize_build }\nend\n```\n\n### Cucumber\n\nAdd these lines to `features/support/percy.rb`:\n\n```ruby\nPercy::Capybara.initialize_build\nat_exit { Percy::Capybara.finalize_build }\n```\n\n### Other test frameworks (MiniTest, etc.)\n\nFor example, with MiniTest you can add this to your `test_helper.rb`:\n\n```ruby\nPercy::Capybara.initialize_build\nMiniTest.after_run { Percy::Capybara.finalize_build }\n```\n\n<div class=\"Alert Alert--warning\">\n\n**NOTE:** Rails 5.0.0 has a bug and doesn't invoke MiniTest.after_run. Please upgrade to 5.0.1 or use an at_exit hook instead.\n\n</div>\n\n## Usage\n\nNow the fun part!\n\nYou can integrate with Percy by adding one line to your existing feature specs:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage with dropdown')\n```\n\nFor example:\n\n```ruby\ndescribe 'a feature', type: :feature, js: true do\n  it 'shows the dropdown menu when clicked' do\n    visit '/'\n    first('.dropdown-toggle').click\n    expect(page).to have_selector('#main-dropdown', visible: true)\n\n    Percy::Capybara.snapshot(page, name: 'homepage with dropdown')\n  end\nend\n```\n\n**Done!** ðŸš€ That's it! Now commit and push your branch to run your tests in your CI service, or create a GitHub PR. Snapshots will be uploaded to Percy for rendering and processing visual diffs.\n\n<div class=\"Alert Alert--info\">\n\nBest practices for Capybara and writing feature specs are outside the scope of these docs. See the [Capybara docs](https://github.com/teamcapybara/capybara#using-capybara-with-rspec) for more Capybara usage examples.\n\n</div>\n\nThe `name: 'homepage with dropdown'` argument is not required, but it is helpful to identify the page by more than just its URL. If you are snapshotting a page multiple times with the same URL, `name` must be set. See _Identifying snapshots_ below.\n\n### Responsive visual diffs\n\nYou can use Percy [responsive visual diffs](/docs/learn/responsive) to test pages at different CSS breakpoints.\n\nIn your `spec_helper.rb`, simply set the default widths for all snapshots:\n\n```ruby\nPercy.config.default_widths = [375, 1280]\n```\n\nWith the above configuration, all snapshots will render at both mobile and desktop breakpoints by default.\n\nYou can also override widths per-snapshot:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage', widths: [375, 1280])\n```\n\n### Local dev environments\n\nYou may want to enable Percy locally while getting set up. See [Local development](/docs/setup/local) setup for more info.\n\n### Identifying snapshots\n\nPercy needs to be able to uniquely identify the same snapshot across builds to provide visual diffs.\n\nTo accomplish this, `Percy::Capybara` uses the current page URL as the name of the snapshot. We assume that your app has been built with stateful navigation and that the URL fully identifies the page state.\n\nHowever, there are many cases where this is not enoughâ€”for example, populating test data in the page, or performing a UI interaction that doesn't change the URL (like clicking the dropdown in the example above).\n\nTo manually identify a snapshot, you can provide the `name` parameter:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage (with dropdown clicked)')\n```\n\nThe `name` param can be any string that makes sense to you to identify the page state. It should be unique and remain the same across builds. It is **required** if you are snapshotting a page multiple times with the same URL.\n\n## Advanced\n\n### Including iframes\n\nPercy::Capybara disables iframes by default. We've found that iframes usually don't affect the rendering of the page, and can sometimes timeout and break builds. However, if you'd like to include iframes, use the `include_iframes` option.\n\n```ruby\nRSpec.configure do |config|\n  # ..\n  config.before(:suite) do\n    Percy::Capybara.use_loader(:sprockets_loader, include_iframes: true)\n  end\nend\n```\n\n\n### Ember CLI Rails\n\nIf you are using [Ember CLI Rails](https://github.com/thoughtbot/ember-cli-rails) you need to tell\nPercy about the Ember apps you've mounted in `routes.rb`.\n\nFor example, if your `routes.rb` file looks like this:\n\n```ruby\nRails.application.routes.draw do\n  mount_ember_app :admin, to: \"/admin\", controller: \"admin\"\n  mount_ember_app :frontend, to: \"/\"\nend\n```\n\nThen configure your before suite block like this:\n\n```ruby\nconfig.before(:suite) do\n  ember_apps = {admin: '/admin', frontend: '/'}\n\n  EmberCli.compile!\n  Percy::Capybara.use_loader(:ember_cli_rails, {mounted_apps: ember_apps})\n  Percy::Capybara.initialize_build\nend\n```\n\n\n## Troubleshooting\n\n### Debug mode\n\nRun with the `PERCY_DEBUG=1` environment variable to see what build resources and snapshots are being created for your build.\n\n### WebMock/VCR users\n\nIf you use [VCR](https://github.com/vcr/vcr) to mock and record HTTP interactions, you need to allow connections to the Percy API:\n\n```ruby\nVCR.configure do |config|\n  config.ignore_hosts 'percy.io'\nend\n```\n\nIf you use [WebMock](https://github.com/bblimke/webmock) to stub out HTTP connections, you need to allow connections to the Percy API:\n\n```ruby\nWebMock.disable_net_connect!(allow: 'percy.io')\n```\n\nIf you still experience problems, and you are using a Webmock version older than 2.0.0, try adding `require: false` to the line in your Gemfile so that Webmock won't block the HTTP request in `initialize_build`:\n\n```ruby\ngem 'webmock', require: false\n```\n\n### Turn off debug assets\n\nAfter upgrading to Sprockets 3, you may notice broken CSS in Percy builds. You likely have this option set in `test.rb`:\n\n```ruby\nconfig.assets.debug = true\n```\n\nThis must be set to false in your `test.rb` file:\n\n```ruby\nconfig.assets.debug = false\n```\n\nThere is no compelling reason to have debug assets permanently enabled in testsâ€”debug assets disables concatination of asset files and will negatively affect your test performance and consistency. You must turn off debug assets in tests for Percy to work correctly.\n\n### Cleanup locally compiled assets\n\nHave you run `rake assets:precompile` locally to test assets? These compiled assets take precedence over others and can break Percy's asset discovery. You should run `rake assets:clobber` to clear out your `public/assets` directory.\n\n## Other resources\n\n*   [Percy::Capybara Reference](http://www.rubydoc.info/gems/percy-capybara/Percy/Capybara) on RubyDoc\n\n### RailsConf 2016 talk\n\n<iframe style=\"max-width: 1000px\" width=\"100%\" height=\"563\" src=\"https://www.youtube-nocookie.com/embed/5h-JJ2wqiIw\" frameborder=\"0\" allowfullscreen></iframe>\n<br>\n\n## Changelog\n\n*   [percy-capybara releases on GitHub](https://github.com/percy/percy-capybara/releases)\n\n## Contributing\n\n1.  Fork it ([https://github.com/percy/percy-capybara/fork](https://github.com/percy/percy-capybara/fork))\n2.  Create your feature branch (`git checkout -b my-new-feature`)\n3.  Commit your changes (`git commit -am 'Add some feature'`)\n4.  Push to the branch (`git push origin my-new-feature`)\n5.  Create a new Pull Request\n\n[Throw a â˜… on it!](https://github.com/percy/percy-capybara) :)\n",
                capybara: '<meta http-equiv="refresh" content="0;URL=/docs/clients/ruby/capybara-rails" />\n',
                cli: '# Percy for static websites\n#### [percy-cli on GitHub <i class="fa fa-github" aria-hidden="true"></i>](https://github.com/percy/percy-cli)\n\n[![](https://travis-ci.org/percy/percy-cli.svg?branch=master)](https://travis-ci.org/percy/percy-cli)\n[![](https://badge.fury.io/rb/percy-cli.svg)](https://rubygems.org/gems/percy-cli)\n\nPercy makes it very simple to integrate visual regression testing for **static websites**, no matter what tools were used to generate it.\n\nThis can be especially useful for static sites generated by [Jekyll](http://jekyllrb.com/) (ie. for GitHub Pages), [Grow](http://growsdk.org), [Middleman](https://middlemanapp.com/), or other static site generators.\n\n## Installation\n\n<div class="Alert Alert--info">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\nFirst, install the Percy command-line client:\n\n```bash\n$ gem install percy-cli\n```\n\nIf you already have the client installed, you can update your old version by running:\n\n```bash\n$ gem update percy-cli\n```\n\n## Local testing\n\nPercy CLI relies on the `PERCY_TOKEN` and `PERCY_PROJECT` environment variables for authenticating and authorizing access to each repository.\n\nYou can temporarily set these in your local shell session by exporting the variables:\n\n```bash\n$ export PERCY_TOKEN=aaabbbcccdddeeefff\n$ export PERCY_PROJECT=my-org/my-project\n$ percy snapshot _site/\n```\n\nOr you can set it just for the current command:\n\n```bash\n$ PERCY_TOKEN=aaabbbcccdddeeefff PERCY_PROJECT=my-org/my-project percy snapshot _site/\n```\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nSee the **Setup** guides for how to securely set environment variables in your CI service.\n\n</div>\n\n## Usage\n\nIf your static site exists in a directory called `_site`, it\'s as simple as this:\n\n```bash\n$ percy snapshot _site/\n```\n\nThat\'s it!\n\nFor example:\n\n```bash\n$ percy snapshot _site/\nCreating build...\nUploading build resources...\nUploading snapshot (1/3): /index.html\nUploading snapshot (2/3): /404.html\nUploading snapshot (3/3): /about/index.html\nFinalizing build...\nDone! Percy is now processing, you can view the visual diffs here:\nhttps://percy.io/fotinakis/percy-examples/builds/140\n```\n\nPercy now starts rendering pages and generating visual diffs for your site. Under the hood, Percy only uploads files that have changedâ€”so after the first time this command is run, future runs will be very fast.\n\n### In a CI service\n\nYou can do the above steps locally for testing, but to get continuous visual integration for your static site you\'ll need to run the `gem install percy-cli` and `percy snapshot _site/` commands  as CI build steps for your project.\n\nFor example, in Travis CI, we can add these steps to `.travis.yml`:\n\n```yaml\nlanguage: ruby\nbefore_script:\n  - gem install jekyll\n  - gem install percy-cli\nscript:\n  - jekyll build\n  - percy snapshot _site/\n```\n\nThe steps will be similar when configuring other CI services or other static site generators.\n\n### Responsive testing\n\nYou can use Percy [responsive visual diffs](/docs/learn/responsive) to test pages at different CSS breakpoints. Just pass the `--widths` flag with a comma-separated list of widths.\n\n```bash\n$ percy snapshot --widths "375,1280" _site/\n```\n\n### Enable JavaScript\n\nBy default, JavaScript is not enabled in the Percy rendering environment (in Percy\'s other SDKs JavaScript is run in tests locally, but in the CLI no JavaScript is run). To enable it for your static site add this argument:\n\n```bash\n$ percy snapshot _site/ --enable_javascript\n```\n\n### Base URL path\n\nIf your static files are hosted in a sub-directory instead of the webserver root, you will need to provide the `--baseurl` flag:\n\n```bash\n$ percy snapshot _site/ --baseurl "/my-subdir"\n```\n\nFor Jekyll users, this should be set to the same as your `baseurl` config setting.\n\n## Changelog\n\n*   [percy-cli releases on GitHub](https://github.com/percy/percy-cli/releases)\n\n## Contributing\n\n1.  Fork it ([https://github.com/percy/percy-cli/fork](https://github.com/percy/percy-cli/fork))\n2.  Create your feature branch (`git checkout -b my-new-feature`)\n3.  Commit your changes (`git commit -am \'Add some feature\'`)\n4.  Push to the branch (`git push origin my-new-feature`)\n5.  Create a new Pull Request\n\n[Throw a â˜… on it!](https://github.com/percy/percy-cli) :)\n',
                "percy-anywhere": "# Percy Anywhere\n\n_Percy Anywhere_ is a simple wrapper that allows you to easily integrate Percy's visual tests with any `localhost` server or remote web app server.\n\nRequirements:\n\n* `percy-capybara` gem.\n* `poltergeist` gem, which requires [PhantomJs](http://phantomjs.org/) to be installed.\n* A directory of compiled asset files.\n* A local or remote server running the app.\n\n## Installation\n\n<div class=\"Alert Alert--info\">\n\nMake sure you have completed [Setup](/docs/) of your CI service first. You can also test Percy in your [local development](/docs/setup/local) environment.\n\n</div>\n\n\n### Without Bundler\n\nYou can simply install the required gems globally:\n\n```bash\n$ gem install percy-capybara\n$ gem install poltergeist\n```\n\n### With Bundler\n\nAdd the following to your `Gemfile`:\n\n```ruby\nsource 'https://rubygems.org'\n\ngem 'poltergeist' # Requires PhantomJs to be installed.\ngem 'percy-capybara'\n```\n\nThen, run:\n\n```bash\n$ bundle install\n```\n\n## Usage\n\nPercy Anywhere does not require Rails or any test framework like RSpec. It simply uses the [Capybara](https://github.com/teamcapybara/capybara) library and a small Ruby script you write to control a web app.\n\n### Example script\n\nLet's create a file called `snapshots.rb`:\n\n```ruby\nrequire 'percy/capybara/anywhere'\nENV['PERCY_DEBUG'] = '1'  # Enable debugging output.\n\n# Configuration.\nserver = 'http://localhost:8080'\nassets_dir = File.expand_path('../dist/assets/', __FILE__)\nassets_base_url = '/'\n\nPercy::Capybara::Anywhere.run(server, assets_dir, assets_base_url) do |page|\n  page.visit('/')\n  Percy::Capybara.snapshot(page, name: 'homepage')\nend\n```\n\n* `server` is a URL pointing to the local or remote host, such as `http://localhost:8080`.\n* `assets_dir` is an absolute path to a directory of compiled static assets. These can by compiled by any asset pipeline tool, such as Webpack/Broccoli.js/etc.\n* `assets_base_url` (optional): the path where your webserver hosts compiled assets, such as `/assets`. Default: `/`\n\nNow, run:\n\n```bash\n$ ruby snapshots.rb\n```\n\nIf you used the Bundler installation method, run:\n\n```bash\n$ bundle exec ruby snapshots.rb\n```\n\n**Done!** ðŸš€ Each time the script is run, Percy snapshots are taken and uploaded for rendering and processing. The script will output a link to the build to view any visual diffs.\n\n### Interacting with elements\n\nThis script can be expanded with any complex behavior that interacts with the page. You can use all of the available [Capybara actions](https://github.com/teamcapybara/capybara#the-dsl) to interact with the page.\n\n**Clicking on a button**\n\n```ruby\n  page.visit('/')\n  page.click_button('New Project')\n  Percy::Capybara.snapshot(page, name: 'homepage - new project modal')\n```\n\n**Clicking on an element by selector**\n\n```\n  page.visit('/about')\n  page.find('#locations').click\n  Percy::Capybara.snapshot(page, name: 'about page - locations')\n```\n\n<div class=\"Alert Alert--info\">\n\nSee the [Capybara docs](https://github.com/teamcapybara/capybara) for many more interactions, best practices, and usage examples.\n\n</div>\n\n### Waiting for elements\n\nSee [Percy - Best practices](/docs/clients/ruby/best-practices#waiting-for-elements).\n\n\n### Responsive visual diffs\n\nYou can use Percy [responsive visual diffs](/docs/learn/responsive) to test pages at different CSS breakpoints.\n\nSimply set the default breakpoint configuration:\n\n```ruby\nPercy.config.default_widths = [375, 1280]\n```\n\nWith the above configuration, all snapshots will render at both mobile and desktop breakpoints by default.\n\nYou can also override widths per-snapshot:\n\n```ruby\nPercy::Capybara.snapshot(page, name: 'homepage', widths: [375, 1280])\n```\n\n## Example app\n\nA working example of this setup can be found here: https://github.com/percy/example-percy-anywhere\n\n## Other resources\n\n*   [Percy::Capybara::Anywhere source](https://github.com/percy/percy-capybara/blob/master/lib/percy/capybara/anywhere.rb)\n*   [Percy::Capybara Reference](http://www.rubydoc.info/gems/percy-capybara/Percy/Capybara) on RubyDoc\n"
            }
        },
        index: '# Getting started\n\nPercy is designed to integrate with your tests and CI environment. Getting Percy up and running is simple:\n\n**Step 1:** Set the `PERCY_TOKEN` and `PERCY_PROJECT` environment variables in your CI environment.\n<br>\n**Step 2:** Integrate Percy\'s client library to take snapshots in tests.\n<br>\n**Step 3:** Run your tests in CI or create a GitHub PR!\n\n## Setup\n\nSelect your CI service to get started:\n\n* [Travis CI](/docs/setup/travis-ci)\n* [CircleCI](/docs/setup/circleci)\n* [Semaphore](/docs/setup/semaphore)\n* [Codeship](/docs/setup/codeship)\n* [Buildkite](/docs/setup/buildkite)\n* [Drone](/docs/setup/drone)\n* [Jenkins](/docs/setup/jenkins)\n* [Local development](/docs/setup/local)\n\n## Platforms\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n\n## Tutorials\n\n* [Example apps](/docs/tutorials/example-apps)\n* [Ember tutorial](/docs/tutorials/ember)\n* [Rails tutorial](/docs/tutorials/rails)\n* [Storybook for React tutorial](/docs/tutorials/storybook-for-react)\n\n\nIn minutes, you will have Percy\'s visual reviews integrated in your application:\n\n<div style="max-width: 1000px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/13932364/ef20497a-ef64-11e5-9e07-819c57920bca.jpg)\n\n</div>\n\n## Automatic GitHub integration\n\n<div style="max-width: 1000px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\n</div>\n\nSee the [GitHub integration docs](/docs/integrations/github) for more info about Percy\'s review workflow.\n\n## Continuous visual integration introduction\n\nCheck out our RailsConf 2016 talk:\n\n<iframe style="max-width: 1000px" width="100%" height="563" src="https://www.youtube-nocookie.com/embed/5h-JJ2wqiIw" frameborder="0" allowfullscreen></iframe>\n',
        integrations: {
            bitbucket: '# Atlassian Bitbucket Integration\n\n<div class="Alert Alert--warning">\n\n**Hello!** in the coming months we\'ll be launching full support for Bitbucket, and we could use your help! If you\'d like to be a beta tester when we\'re ready, please let us know below.\n\n</div>\n\n<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdsWPUm9HZDyst5yaVsintMhap4ywRsWhzy7pz426u_yXvH0A/viewform?embedded=true" width="960" height="2000" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n',
            "github-enterprise": '# GitHub Enterprise Integration\n\n<div class="Alert Alert--warning">\n\n**Hello!** in the coming months we\'ll be launching full support for GitHub Enterprise, and we could use your help! If you\'d like to be a beta tester when we\'re ready, please let us know below.\n\n</div>\n\n<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdbURZoy58u9bnCsGwIlGKXXxVMmyOXqSvcwJEDT2EYe7kBtA/viewform?embedded=true" width="960" height="2000" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n',
            github: "# GitHub Integration\n\nAs you're setting up Percy, you will be prompted to add our GitHub app to integrate with GitHub pull requests. Once you've added the app, Percy will automatically update the pull request summary if there are visual differences waiting for review, and details of which team member approved them.\n\n## Approval workflow\n\nPercy provides a workflow for **visual review alongside code review**. If a build has visual diffs, it will be marked as a failure in the Pull Request. You can review and approve visual diffs in one click as part of your code review process.\n\nApproving a build is not required, you can still merge the Pull Request in GitHub. Approving a build in Percy simply sets theÂ GitHub commit status to green/successful, so that your team can see that any visual changes were reviewed and approved.\n\n![](https://cloud.githubusercontent.com/assets/75300/13929974/13750b2c-ef5a-11e5-9a87-3ad3b335cc0d.png)\n\nYou can use this workflow as a way to incorporate a simple visual review process into your current code review process.\n",
            gitlab: '# GitLab Integration\n\n<div class="Alert Alert--warning">\n\n**Hello!** in the coming months we\'ll be launching full support for GitLab, and we could use your help! If you\'d like to be a beta tester when we\'re ready, please let us know below.\n\n</div>\n\n<iframe src="https://docs.google.com/forms/d/e/1FAIpQLScMJyOTyyz5KgawclXlweTOuAGjn4HIVcP5-3ji8-kGeU_bYQ/viewform?embedded=true" width="960" height="2000" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>\n'
        },
        learn: {
            animations: '# Animations\n\nA big challenge of visual regression testing is **avoiding false-positive visual diffs**. False-positives can be caused by many variables (including system and hardware differences between browser environments), but are commonly caused by page animations.\n\nFor example, take this awesome pure-CSS animation:\n\n<iframe height="425" scrolling="no" src="//codepen.io/fotinakis/embed/xVXXpo/?height=425&amp;theme-id=0&amp;default-tab=result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;"></iframe>\n\nIf you captured a page with this animation multiple times, you would end up with noisy and false-positive visual diffs:\n\n![](/static/images/examples/animation-diffs-f8b71852c8b52bdd32ad16282695971e.jpg)\n\nThough fun to look at, this doesnâ€™t really help us identify visual regressions!\n\n## Automatic animation freezing in Percy\n\nPercy does a lot of work behind the scenes to make sure that pages are rendered consistently and deterministically. One of the things we do is freeze different kinds of animations that can cause false-positive visual diffs.\n\n**Percy will automatically:**\n\n*   Freeze animated GIFs on the first frame.\n*   Freeze most CSS `animation` and `transition` styles.\n\n![](/static/images/examples/animation-no-diffs-affd1b3447a591733a9f2159bebcdc84.jpg)\n\nMuch better. **Percy automatically freezes CSS animations and animated GIFs.**\n\nOther than animations, Percy does other server-side tricks to create a consistent rendering environment and avoid other kinds of false-positives (such as font rendering differences, sub-pixel antialiasing, width and height changes, etc.)\n\n## Manual jQuery animation handling\n\nPercy does not by default execute JavaScript in our rendering pipeline, but JavaScript is likely enabled in the browser that runs your acceptance tests locally or on CI. You might be unknowingly running jQuery animations in tests simply by using them in your app.\n\nIn addition to causing false-positives if the DOM is captured in the middle of animation, jQuery animations can also have the adverse effect of slowing down your acceptance testsâ€”assertions might wait for animations to complete before an element exists on the page. **Temporarily disabling jQuery animations might help speed up your acceptance tests, as well as will help Percy avoid capturing the DOM state while elements are still animating.**\n\nYou can set a jQuery config to disable animations:\n\n```js\n$.fx.off = true;\n```\n\n<div class="Alert Alert--warning">\n  <strong>NOTE:</strong> You should only include this snippet in your testing environment!\n</div>\n\nAs the [jQuery docs](https://api.jquery.com/jquery.fx.off/) say: "When this property is set to `true` all animation methods will immediately set elements to their final state when called, rather than displaying an effect."\n\n## Manual Velocity animation handling\n\nIf you are using the [Velocity](https://github.com/julianshapiro/velocity) animation accelerator, you can mock time when animating elements to disable the animation tweening entirely. This allows you to snapshot the end state of your animation. To do so, add the following to your Velocity config to disable animations:\n\n```\n$.Velocity.mock = true;\n```\n\nThis will force all Velocity animations to run with 0ms duration and 0ms delay on the next animation tick. For more information on how this works, see the [Velocity documentation](http://velocityjs.org/#mock)\n',
            "baseline-picking-logic": "# Baseline picking logic\n\nWhen conducting a visual review, it's useful to understand what you are comparing and why. When new changes are added to your codebase we have to determine what we'll compare these new changes to.\n\nTo better understand this, let's first define some basic concepts:\n\n* **Baseline build** - a previous Percy build used as the basis for comparison.\n* **Head build** - the latest Percy build which is compared to the baseline build.\n\n## Workflows\n\nWhile the head build is easy understand, sometimes how the baseline is picked is not as intuitive. Let's go over three different scenarios and reveal how Percy selects an appropriate baseline.\n\n### Commits to master\n\nThe simplest example is no branches and commits made directly to master. In this case, new commits are compared against the last completed Percy build, which is often the previous commit.\n\n![](/static/images/docs/baseline-picking-logic/master-commits-scenario-acb0eec74631f5b8fc929cb8f7fde223.svg)\n\n### Branches\n\nIf you are working on a branch but have yet to create a pull request, the baseline is the latest commit on the master branch.\n\n![](/static/images/docs/baseline-picking-logic/branch-scenario-250e4412a53b7e9fde20fd0706bb3d22.svg)\n\nBy default, Percy automatically picks the latest `master` build as the baseline for comparison and generating visual diffs. This means that as your product evolves and adds new features, Percy will automatically keep up to date and use the most relevant screenshots for comparison.\n\n### Pull requests\n\nWhen the [GitHub integration](/docs/integrations/github) is enabled and the build is from a pull request, you want to know what visual changes will be made after this request is merged. Percy uses the pull request base branch as the baseline. Specifically the baseline is the commit where the base branch stemmed from.\n\n![](/static/images/docs/baseline-picking-logic/pull-created-scenario-86f7cd5c91874d5c4c6168575e8f57c3.svg)\n\nThis strategy significantly reduces visual diff noise in codebases where `master` changes frequently. Unrelated visual changes from master are not included in the comparison and the visual diffs will more accurately show only the visual changes from the pull request. If you use `git rebase` to incorporate master changes, Percy will start using the new branch point.\n\n## Configure baseline branch\n\nPercy automatically uses `master` as the default baseline branch. You can change the baseline branch that Percy will use by setting the `PERCY_TARGET_BRANCH` environment variable. See [Environment variables](/docs/learn/env-vars) for more info.\n\nFor example, if you use a `develop` branch instead of `master`, just set this environment variable in CI:\n\n```bash\nPERCY_TARGET_BRANCH=develop\n```\n\n## Automatic vs. manual diff base\n\nPercy automatically picks the latest `master` build as the baseline for comparison and generating visual diffs. You can override this and require approval of master builds before they will be used for comparison. To do this, switch to \"manual diff base\" mode in your project settings.\n\nSwitching to manual diff base is *not* recommended as it will require much more manual intervention as your application is updated, but is available if your workflow demands it.\n",
            "env-vars": '# Environment variables\n\n### Required\n\nFor authentication, Percy requires the following environment variables to be set:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota. They will not be able to read data because the token is write-only.\n\nSee the **Setup** guides for how to securely set environment variables in your CI service.\n\n</div>\n\n### Optional\n\nPercy client libraries pull other information from the environment they are running in, such as the branch name, commit SHA, GitHub Pull Request number, etc. You can override some of Percy\'s behaviors by setting these these environment variables in your CI environment:\n\n* `PERCY_BRANCH`: The branch the build is being run in. Defaults to the current git branch.\n* `PERCY_TARGET_BRANCH`: The branch to compare against. Defaults to `master`.\n  *  If the Percy build is associated to a GitHub Pull Request, setting this value have no effect and the target branch will be automatically determined from the GitHub PR.\n* `PERCY_COMMIT`: The commit SHA to associate to the build.\n* `PERCY_PULL_REQUEST`: The pull request number to associate to the build, if any.\n* `PERCY_PARALLEL_TOTAL`: The total number of parallel builds to expect.\n  * In most setups this is automatically discovered and does not need to be set. See [Parallel tests](/docs/learn/parallel-tests) for more info.\n* `PERCY_PARALLEL_NONCE`: A unique identifier used to group parallel builds. This can be any string that is shared between parallel runners, such as the CI build number.\n  * In most setups this is automatically discovered and does not need to be set. See [Parallel tests](/docs/learn/parallel-tests) for more info.\n\n## Setting environment variables\n\nSee the **Setup** guides for how to set environment variables in your CI service or in local development environments.\n',
            faq: '# FAQ\n\n#### What is continuous visual integration?\n\nWe believe that visual regression testing is only useful if it is done on every build, for every change, and fast enough to be integrated in your existing development workflow and CI services. We coined the phrase "continuous visual integration" to describe this more expansive view of visual testing and how Percy fits in the world of continuous integration.\n\n#### How does visual regression testing work?\n\nFirst, Percy renders a screenshot of the page and then visually compares it, pixel by pixel, to a previous screenshot. The output of this comparison creates a third imageâ€”this is the "visual diff" or "perceptual diff" that shows exactly what pixels changed between the images:\n\n![](/static/images/example-pdiff-1750c962025ad6f2df253ee8dc0f16ec.png)\n\n#### So, I upload screenshots?\n\n**Nope!** You might be surprised to learn that under the hood, Percy is not designed to accept screenshots, but instead captures DOM snapshots and page assets (CSS, images, etc.). This is very intentionalâ€”we want to keep your environment fast and handle all the complexities of deterministic rendering and visual diffs in our infrastructure. We also want to support visual testing for any web content, regardless of the language or framework it was created in.\n\n#### My tests are already slowâ€”isn\'t this going to make them slower?\n\n**Nope!** Percy is designed to keep all the computationally expensive screenshot rendering and visual diffing completely out of your systems. By accepting DOM snapshots and assets alone, we can highly optimize Percy to have lightweight clients in numerous languages and environments with little performance impact on your side.\n\nThe first build may be slower than usual while assets are first uploaded, but then assets are never uploaded unless they change.\n\n#### Do you support X language or X framework?\n\n**Short answer: yes!** We have a set of [officially supported client libraries](/docs/) and are adding more. Our asset-centric design lets us support any web content no matter what language or framework it was created in. We want to encourage a developer ecosystem of tools that can easily integrate with Percy.\n\n#### Do you support cross-browser testing?\n\n**No.** You often only need one good, modern browser to get the main benefits of visual regression testing. Right now, all screenshots are rendered in a modern browser (Firefox 45 ESR). We are considering adding support for cross-browser testing in the future.\n\n#### How do you handle dynamic page content?\n\n**Short answer: we don\'t.** If you have page content that changes (auto-generated test data, timestamps, dynamic test users, etc.) you may see visual diffs in every build. You can simply ignore them if you know that they are correct, or take steps to reduce the dynamic data present in your feature tests. For example, you could use static fixture data or inject static content just for the relevant tests.\n\nWe are exploring features to help with this problem. Please [email us](mailto:hello@percy.io) if you\'re interested.\n\n#### Do you support native mobile apps?\n\n**No**, unless your app is built using HTML and CSS.\n\n#### Do you require my repository to be on GitHub?\n\nRight now we require GitHub for authentication, but the Percy client libraries support non-git environments. We are working on adding support for non-GitHub authentication schemes.\n\n#### Do you require my code to be in Git?\n\n**Nope!**\n\n#### My diffs are very noisy, is this broken?\n\n![](/static/images/noisy-pdiff-a1569109d8aacc8e20a7226b1b4812c5.png)\n\nThis is one of the hard parts of perceptual diffsâ€”the diff itself is pixel-by-pixel, so the diff may end up looking like noise if the content shifts by any amount. You still get the benefits of knowing when and where your app has changed, but it may require more manual analysis. In Percy you can simply click the diff to hide it and view the underlying screenshot to compare visually. Also see [Animations](/docs/learn/animations) for info on how Percy freezes animations.\n\n#### Why is this such a hard problem?\n\nI\'m glad you asked! Check out our RailsConf 2016 talk:\n\n<iframe style="max-width: 1000px" width="100%" height="563" src="https://www.youtube-nocookie.com/embed/5h-JJ2wqiIw" frameborder="0" allowfullscreen></iframe>\n',
            fonts: "# Font services\n\nPercy supports rendering pages that rely on third-party web typography services.\n\nIf you use a **free font service** like Google Fonts, everything should just work.\n\nIf you use a **subscription web font service** (like TypeKit, Fontdeck, Cloud.typography, etc.), you may have to add Percy to your list of allowed hosts. The hostname to add is: `proxyme.percy.io`",
            "github-integration": '<meta http-equiv="refresh" content="0;URL=/docs/integrations/github" />\n',
            "parallel-tests": '# Parallel test suites\n\nPercy has built-in support for complex test suites that run in parallelized CI services or parallel test runners.\n\nPercy is **designed to support _any_ parallelized test environment** with only two simple parameters. Snapshots are pushed from your tests to Percy and grouped in the same Percy build, no matter if your tests are run in different processes or even on different machines.\n\nIf you currently see multiple Percy builds created incorrectly each time your tests run (with different snapshots in each build), this article is for you.\n\n## Usage\n\nDepending on your CI service, you may need to do some simple configuration to support parallel tests.\n\n* **Automatically supported** when using the Percy client libraries:\n\n  * CircleCI parallelism\n  * Travis CI parallel builds\n  * Codeship ParallelCI\n  * [Buildkite parallelism](https://buildkite.com/docs/builds/parallelizing-builds)\n\n* **Manual configuration:**\n\n  * [parallel_tests](https://github.com/grosser/parallel_tests) gem\n  * Jenkins, Drone, others\n\n### Manual configuration with environment variables\n\nTwo environment variables must be configured to support parallel test suites: a [nonce](https://en.wikipedia.org/wiki/Cryptographic_nonce), and the total number of parallel nodes.\n\n* `PERCY_PARALLEL_NONCE`: A unique identifier for this build. This can be anything, but it must be the same across parallel build nodes. Usually this is just the CI build number or a shared timestamp.\n* `PERCY_PARALLEL_TOTAL`: The total number of parallel build nodes.\n\nThese are the only variables needed for Percy to correctly support your parallelized test suite.\n\n### Example: parallel_tests gem\n\nFor example, if you are using the [parallel_tests gem](https://github.com/grosser/parallel_tests) with RSpec, you may run your tests like this:\n\n```bash\n$ rake parallel:spec[4] 4 processes for 100 specs, ~ 25 specs per process ...\n```\n\nWe can modify this to export the two environment variables:\n\n```bash\n$ export PERCY_PARALLEL_NONCE=`date +%s`\n$ export PERCY_PARALLEL_TOTAL=4\n$ rake parallel:spec[4] 4 processes for 100 specs, ~ 25 specs per process ...\n```\n\nOr, all on one line:\n\n```bash\n$ PERCY_PARALLEL_NONCE=`date +%s` PERCY_PARALLEL_TOTAL=4 rake parallel:spec[4]\n```\n\nIn this example, we use `date +%s` to generate a Unix timestamp to use as the parallel nonce. As long as different test runs never start at the exact same second, this will work nicely as an identifier for this build across all four parallel processes.\n\n## How it works\n\nParallelism is a common way to speed up test suites by running multiple tests concurrently and then combining results at the end.\n\nHowever, supporting parallel tests in a visual CI service is complexâ€”unlike traditional CI services, different builds in Percy influence each other by design. Snapshots rendered in one build might become the new base for visual diffs in a later build. Because of this, we must ensure that all snapshots from your test suite are grouped correctly in a single Percy build.\n\nPercy\'s API provides a simple mechanism to associate snapshots to the same Percy build, no matter if the snapshots are pushed from different processes or even different machines. Two params are needed: a "parallel nonce" (any unique identifier for the build) and the total number of build nodes. Having a [nonce](https://en.wikipedia.org/wiki/Cryptographic_nonce) that is shared across build nodes lets us link together snapshots created in different processes to the same Percy build. The client sends both of these with every API call to create a build.\n\nOn the server-side, we use a transaction to coordinate between all the parallel API calls and only create one build per nonce. If a pending build has already been created for the given nonce, the build is simply returned to the client.\n\nTo tell when a parallelized build is finished, we simply count the number of "finalize" API calls that have been received and only truly finalize the build when the count equals the total number of nodes we expect a response from. This lets us avoid many race conditions by design since we don\'t rely on when build nodes start or how long they run.\n\nWith this mechanism, the client-side logic remains very simple and all the complexities of transactionality and coordination between nodes happens in our service.\n\nFor more info, you can see the simple client-side logic for `parallel_nonce` and `parallel_total_shards` in the Ruby [percy/client/environment.rb](https://github.com/percy/percy-client/blob/master/lib/percy/client/environment.rb) file.\n',
            "percy-specific-css": "# Percy specific CSS\n\nSometimes you'll want to apply CSS to a page only when it's rendered in Percy's rendering environment. This can be very helpful for hiding areas that produce false-positive visual diffs, or when you'd like more specific control over the state of UI elements like visualizations and animations.\n\nYou can do so using the `@media only percy` CSS media query. CSS that is nested under this media query will _only_ apply in Percy and will not affect your normal pages outside of Percy.\n\n## Example\n\nFor example, you might have an element that renders differently each time and you want Percy to ignore that element. You can use Percy specific styles to achieve this.\n\nLet's say you want to apply a `hide-in-percy` class to elements you want hidden in Percy. Here's how you can do that:\n\n```css\n@media only percy {\n  .hide-in-percy {\n    visibility: hidden;\n  }\n}\n```\n\nAnd your page would have HTML like this:\n\n```html\n<div class=\"hide-in-percy\">an element we know we want to ignore in visual tests</div>\n```\n\nThe class names don't have to be Percy specific, you can put any normal CSS selectors and rules that you want in the media query and they will only be applied when rendering in Percy.\n",
            responsive: "# Responsive visual diffs\n\nA powerful feature of Percy is visual regression testing for responsive designs. You provide a list of responsive breakpoint widths, we take care of the rest.\n\nFor example, here is a responsive visual diff of a button change on the same page rendered at different widths:\n\n**/index.html @ 375px:**\n\n![](/static/images/example-responsive-375-56e9705da07ef9a01967cb71b58e6265.jpg)\n\n**/index.html @ 1280px:**\n\n![](/static/images/example-responsive-1280-fc3c71c36237e6fca22e455fffd610ec.jpg)\n\n## Usage\n\nUsage depends on the client library, see the **Usage** section of your specific client library.\n\n## Limits\n\n*   Maximum of 10 different widths per snapshot.\n*   Each width must be between 120px and 1400px inclusive.\n\n## Pricing\n\nEach responsive width counts as as a separate visual diff in your subscription. For example, a snapshot of your homepage at 375px and 1280px simply counts as 2 visual diffs.\n\n## How it works\n\nBecause Percy stores the original DOM snapshot and page assets, we simply render the same page at different widths by resizing the browser when generating page screenshots. This is handled entirely server-side and has **no effect on the speed of your tests** since all rendering and diffing takes place in Percy, like normal.\n\nOne downside to this approach is that we do not execute JavaScript by default while rendering pages, so any responsive changes that rely on JavaScript may not show. We have some ideas of how to handle this in the future, please [contact us](mailto:hello@percy.io) if you are interested in this feature."
        },
        nav: '* [Getting started](/docs)\n\n# Setup\n\n* [Travis CI](/docs/setup/travis-ci)\n* [CircleCI](/docs/setup/circleci)\n* [Semaphore](/docs/setup/semaphore)\n* [Codeship](/docs/setup/codeship)\n* [Buildkite](/docs/setup/buildkite)\n* [Drone](/docs/setup/drone)\n* [Jenkins](/docs/setup/jenkins)\n* [Local development](/docs/setup/local)\n\n# Platforms\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n\n# Integrations\n\n* [GitHub](/docs/integrations/github)\n* [GitHub Enterprise](/docs/integrations/github-enterprise)\n* [GitLab](/docs/integrations/gitlab)\n* [Bitbucket](/docs/integrations/bitbucket)\n\n\n# Tutorials\n\n* [Example apps](/docs/tutorials/example-apps)\n* [Ember tutorial](/docs/tutorials/ember)\n* [Rails tutorial](/docs/tutorials/rails)\n* [Storybook for React tutorial](/docs/tutorials/storybook-for-react)\n\n\n# Learn\n\n* [Responsive visual diffs](/docs/learn/responsive)\n* [Animations](/docs/learn/animations)\n* [Percy specific CSS](/docs/learn/percy-specific-css)\n* [Font services](/docs/learn/fonts)\n* [Baseline picking logic](/docs/learn/baseline-picking-logic)\n* [Parallel test suites](/docs/learn/parallel-tests)\n* [Environment variables](/docs/learn/env-vars)\n* [FAQ](/docs/learn/faq)\n\n# API\n\n* [Ruby API client](/docs/api/ruby-client)\n* [JavaScript API client](/docs/api/javascript-client)\n* [Reference](/docs/api/reference)\n',
        setup: {
            "-env-vars-setup-list": "1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo's settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.",
            "-next-step-clients": "## âœ“ Next step: integrate with tests\n\nYou're done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n",
            "-preamble": "Percy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n",
            buildkite: '# Setup: Buildkite\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Buildkite pipeline setup\n\nBuildkite provides an easy way to set environment variables in your build pipeline config or agent hooks:\n\nhttps://buildkite.com/docs/guides/environment-variables\n\nIn your Buildkite pipeline, go to **Settings > Steps > Environment Variables**. Then:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n<div style="border: 1px solid #ddd; max-width: 800px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/18970828/c2ffda48-8647-11e6-8cb2-47cf1673e956.png)\n\n</div>\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\n</div>\n\n### Setup for docker-compose\n\nIf you use Docker containers in your Buildkite builds, you need to pass some environment variables in to your containers for Percy\'s client library to detect the environment correctly.\n\nAdd this to your `docker-compose.yml`:\n\n```yaml\n  environment:\n    - BUILDKITE\n    - BUILDKITE_COMMIT\n    - BUILDKITE_BRANCH\n    - BUILDKITE_PULL_REQUEST\n    - BUILDKITE_BUILD_ID\n    - PERCY_TOKEN\n    - PERCY_PROJECT\n```\n\nBy leaving the value blank, Docker will pass through the value from the host Buildkite environment.\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            circleci: '# Setup: CircleCI\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## CircleCI project setup\n\nCircleCI provides an easy way to set environment variables in project settings:\n\nhttps://circleci.com/docs/environment-variables/#setting-environment-variables-for-all-commands-without-adding-them-to-git\n\nIn your CircleCI project, go to **Project settings > Environment Variables**. Then:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n<div style="border: 1px solid #ddd; max-width: 800px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/16672759/1002c8fa-445d-11e6-96fa-ea4f4bd4ea78.png)\n\n</div>\n\n## Alternative circle.yml setup\n\nA different way is to add the environment variables to your `circle.yml`. See the [CircleCI config: Environment](https://circleci.com/docs/configuration/#environment) docs for more info.\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nIf your code is public, do not add the PERCY_TOKEN to your code and use the above environment setup instead.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            codeship: '# Setup: Codeship\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Codeship Basic setup\n\nCodeship provides an easy way to set environment variables in settings for a repository:\n\nhttps://codeship.com/documentation/continuous-integration/set-environment-variables/\n\nIn your Codeship project go to **Settings > Environment Variables**. Then:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n<div style="border: 1px solid #ddd; max-width: 800px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/16673486/6476069e-4463-11e6-9fb5-08cefe5f177a.png)\n\n</div>\n\n## Codeship Pro setup\n\nCodeship Pro is based on Docker and uses an encrypted files to load your environment variables into Docker containers. \n\nYou can learn more about encrypting your environment variables for Codeship Pro builds here: https://documentation.codeship.com/pro/builds-and-configuration/environment-variables/\n\n## More information \n\nCodeship has more documentation for integrating Percy with your CI/CD builds.\n\n* Codeship Pro: https://documentation.codeship.com/pro/continuous-integration/percy-docker/\n* Codeship Basic: https://documentation.codeship.com/basic/continuous-integration/percy-basic/\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            drone: '# Setup: Drone\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Drone project setup\n\nDrone provides an easy way to set environment variables in the `.drone.yml` config:\n\nhttp://readme.drone.io/usage/build_test/#environment:fb92aa3346185c57f15afda861d465a3\n\nIn your `.drone.yml`, add a section for environment variables:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n```yaml\nbuild:\n  environment:\n    - PERCY_TOKEN=aaabbbcccdddeeefff\n    - PERCY_PROJECT=my-org/my-repo\n```\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nIf your code is public, do not commit the PERCY_TOKEN to your code.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            jenkins: '# Setup: Jenkins\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Jenkins build setup\n\nDepending on how you have Jenkins configured, there are a few options for configuring environment variables.\n\nYou can use the [EnvInject plugin](https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin) to set these environment variables for a build:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\nAlternatively you could export the variables as part of the build script:\n\n```bash\nexport PERCY_TOKEN=aaabbbcccdddeeefff\nexport PERCY_PROJECT=my-org/repo-name\n\n# Now run your tests (just an example, this depends on the client library used):\nbundle exec rspec\n```\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nIf your code is public, do not commit the PERCY_TOKEN to your code.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            local: '# Setup: local development\n\nPercy is designed to integrate with your tests and CI environment, but can also work in local development environments for testing purposes. To enable Percy locally, these environment variables must be configured:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n## Local setup\n\nYou can set environment variables locally using `export`:\n\n```bash\n$ export PERCY_TOKEN=aaabbbcccdddeeefff\n$ export PERCY_PROJECT=my-org/repo-name\n$\n$ # Now run your tests locally (just an example, depends on client library used):\n$ npm run test\n```\n\nOr, all on one line:\n\n```bash\n$ PERCY_TOKEN=aaabbbcccdddeeefff PERCY_PROJECT=my-org/repo-name npm run test\n```\n\nCareful thoughâ€”if you run your tests locally, Percy cannot read the current branch information\nfrom the CI environment so it will default to `master` which will set your repo\'s `master` baseline in Percy. You can change the branch linked in Percy by setting the `PERCY_BRANCH` environment variable.\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            semaphore: '# Setup: Semaphore\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Semaphore project setup\n\nSemaphore provides an easy way to set environment variables in settings for a repository:\n\nhttps://semaphoreci.com/docs/exporting-environment-variables.html\n\nIn your Semaphore project go to **Settings > Environment Variables**. Then:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n<div style="border: 1px solid #ddd; max-width: 800px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/16673396/a28f635e-4462-11e6-84a5-9d32ef69d0e7.png)\n\n</div>\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nMake sure _"Encrypt content"_ is checked.\n\n</div>\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n',
            "travis-ci": '# Setup: Travis CI\n\nPercy is designed to integrate with your tests and CI environment. To enable Percy, these environment variables must be configured in your CI service:\n\n* `PERCY_TOKEN`: The Percy repo write-only API token. This is unique for each Percy repository.\n* `PERCY_PROJECT`: The full repository slug, for example `my-org/repo-name`.\n\n\n## Travis repo settings\n\nTravis CI provides an easy way to set environment variables in settings for a repository:\n\nhttps://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings\n\nIn your Travis repository go to **Settings > Environment Variables**. Then:\n\n1. **Set `PERCY_TOKEN` to the write-only token from your Percy repo.** This token can be found in each Percy repo\'s settings.\n1. **Set `PERCY_PROJECT` to the full name of your repository.** For example: `PERCY_PROJECT=my-org/repo-name`.\n\n<div style="border: 1px solid #ddd; max-width: 800px; margin-bottom: 1em">\n\n![](https://cloud.githubusercontent.com/assets/75300/16663836/893a5a88-4432-11e6-84cd-30fe98255fa3.png)\n\n</div>\n\n<div class="Alert Alert--warning">\n\n**IMPORTANT: Keep your Percy token secret.** Anyone with access to your token can consume your account quota, though they cannot read data.\n\nFor Travis CI, make sure the _"Display value in build log"_ toggle is off.\n\n</div>\n\n## Alternative .travis.yml setup\n\nA slightly more complicated way to set secret environment variables in Travis is to encrypt them and store them in your `.travis.yml`. See the [Travis: Encrypted Variables](https://docs.travis-ci.com/user/environment-variables/#Encrypted-Variables) docs for more info.\n\n## âœ“ Next step: integrate with tests\n\nYou\'re done with setupâ€”the last step is to integrate Percy into your tests and run them. Just choose your client library:\n\n<div class="DocsClientList">\n\n<div class="DocsClientList-heading">JavaScript</div>\n\n  * [Ember](/docs/clients/javascript/ember)\n  * [React](/docs/clients/javascript/react)<sup style="color: #a0a0a0">beta</sup>\n  * [Storybook for React](/docs/clients/javascript/react-storybook)<sup style="color: red">new!</sup>\n  * [Vue.js](/docs/clients/javascript/vue)\n  * [WebdriverIO](/docs/clients/javascript/webdriverio)<sup style="color: #a0a0a0">beta</sup>\n\n\n<div class="DocsClientList-heading">Ruby</div>\n\n  * [Rails](/docs/clients/ruby/capybara-rails)\n  * [Other](/docs/clients/ruby/capybara-other)\n  * [Capybara, no tests](/docs/clients/ruby/percy-anywhere)\n  * [Best practices](/docs/clients/ruby/best-practices)\n\n<div class="DocsClientList-heading">Python</div>\n\n  * [Selenium](/docs/clients/python/selenium)\n\n<div class="DocsClientList-heading">Static sites</div>\n\n  * [Command-line client](/docs/clients/ruby/cli)\n\n<div class="DocsClientList-heading">Everything else</div>\n\n  * [Percy Anywhere](/docs/clients/ruby/percy-anywhere)<sup style="color: red">new!</sup>\n\n</div>\n\n'
        },
        tutorials: {
            ember: "# Tutorial: Using Percy with Ember\n\nThis 2 minute guide walks you through cloning the TodoMVC example app, making some changes, and seeing the visual difference in Percy's visual review tool.\n\nThe tutorial assumes you have [ember](https://guides.emberjs.com/v2.10.0/getting-started/), [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git), and [phantomjs](http://phantomjs.org/download.html) installed.\n\n\n**Step 1:** Clone the example app:\n\n```bash\n$ git clone https://github.com/percy/example-ember.git\n$ cd example-ember\n```\n\n**Step 2:** Sign in to Percy, create a new organization, skip the GitHub integration, and create a new project.  You can name both the organization and project 'todo'.\n\nAfter you've created the project, you'll be shown two environment variables.\n\n**Step 3:** In the shell window you're working in, export the 2 environment variables:\n\n```bash\n$ export PERCY_TOKEN=<your token here>\n$ export PERCY_PROJECT=<your project here>\n```\n\nNote: usually these would only be set up in your [CI environment](/docs), but to keep things simple we'll configure them in your shell so that Percy is enabled in your local environment.\n\n**Step 4:** Install the example app's dependencies:\n\n```bash\n$ npm install && bower install\n```\n\n**Step 5:** Run the tests:\n\n```bash\n$ npm test\n```\n\nThis will run the test suite and send snapshots to Percy. You can view the snapshots in Percy now if you want, but there will be no visual comparisons yet.\n\n![](/static/images/docs/tutorial-without-diffs-e862b05a81f5335489ca12887939c7cd.png)\n\n**Step 6:** Use your text editor to edit `app/styles/app.css` and change the `#new-todo` background-color from `#ffffff` to `#f5f5f5`.\n\n**Step 7:** Also edit `app/templates/application.hbs` and edit the footer to add a new paragraph on line 29: `<p>Now tested with Percy</p>`\n\n**Step 8:** Commit the change:\n\n```bash\n$ git add . && git commit -m \"Changed background color and updated footer.\"\n```\n\n**Step 9:** Run the tests again:\n\n```bash\n$ npm test\n```\n\nThis will rerun the tests with your changes and upload new snapshots to Percy.  The new snapshots will be compared with the previous snapshots, showing any visual diffs.\n\n**Step 10:** Visit your project in Percy and you'll see a new build with the visual comparison between the two test runs.  Click anywhere on the Build 2 row that says '2 visual diffs'.  You can see the original snapshot on the left, and the new snapshot on the right.\n\nPercy has highlighted what's changed on the page! You can click on the highlight to reveal the underlying screenshot.\n\n![](/static/images/docs/tutorial-with-diffs-527751fd126843f42b7382189652218a.png)\n\n**Finished! ðŸ˜€**  \n\nFrom here, you can try making your own changes to the app if you like.  If you do, re-run the tests, and then you'll see your changes reflected in Percy.\n\nThis tutorial used TodoMVC with Percy already addedâ€”you can see how we [added Percy to TodoMVC](https://github.com/percy/example-ember/compare/pre-percy...master), and check out the [docs](/docs/clients/javascript/ember) for how to add Percy to your own Ember app!\n",
            "example-apps": '# Tutorials\n\n2-minute, step-by-step tutorials for getting started with Percy:\n\n- [Ember tutorial](/docs/tutorials/ember)\n- [Rails tutorial](/docs/tutorials/rails)\n- [Storybook for React tutorial](/docs/tutorials/storybook-for-react)\n\n## Tutorial example apps\n\nWant to jump right into code? Check out these example apps with Percy already integrated:\n\n- [<i class="fa fa-github" aria-hidden="true"></i> percy/example-ember](https://github.com/percy/example-ember)\n- [<i class="fa fa-github" aria-hidden="true"></i> percy/example-rails](https://github.com/percy/example-rails)\n- [<i class="fa fa-github" aria-hidden="true"></i> percy/example-storybook-for-react](https://github.com/percy/example-storybook-for-react)\n',
            rails: "# Tutorial: Using Percy with Rails\n\nThis 2 minute guide walks you through cloning the TodoMVC example app, making some changes, and seeing the visual difference in Percy's visual review tool.\n\nThe tutorial assumes you have [ruby](https://www.ruby-lang.org/en/documentation/installation/),  [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git), and [phantomjs](http://phantomjs.org/download.html) installed.\n\n\n**Step 1:** Clone the example app:\n\n```bash\n$ git clone https://github.com/percy/example-rails.git\n$ cd example-rails\n```\n\n**Step 2:** Sign in to Percy, create a new organization, skip the GitHub integration, and create a new project.  You can name both the organization and project 'todo'.\n\nAfter you've created the project, you'll be shown two environment variables.\n\n**Step 3:** In the shell window you're working in, export the 2 environment variables:\n\n```bash\n$ export PERCY_TOKEN=<your token here>\n$ export PERCY_PROJECT=<your project here>\n```\n\nNote: usually these would only be set up in your [CI environment](/docs), but to keep things simple we'll configure them in your shell so that Percy is enabled in your local environment.\n\n**Step 4:** Install the example app's dependencies:\n\n```bash\n$ bundle install && bundle exec rake db:create && bundle exec rake db:migrate\n```\n\n**Step 5:** Run the tests:\n\n```bash\n$ bundle exec rake test\n```\n\nThis will run the test suite and send snapshots to Percy. You can view the snapshots in Percy now if you want, but there will be no visual comparisons yet.\n\n![](/static/images/docs/tutorial-without-diffs-e862b05a81f5335489ca12887939c7cd.png)\n\n**Step 6:** Use your text editor to edit `app/assets/stylesheets/application.css` and change the `#new-todo` background-color from `#ffffff` to `#f5f5f5`.\n\n**Step 7:** Also edit `app/views/layouts/application.html` and edit the footer to add a new paragraph on line 22: `<p>Now tested with Percy</p>`\n\n**Step 8:** Commit the change:\n\n```bash\n$ git add . && git commit -m \"Changed background color and updated footer.\"\n```\n\n**Step 9:** Run the tests again:\n\n```bash\n$ bundle exec rake test\n```\n\nThis will rerun the tests with your changes and upload new snapshots to Percy.  The new snapshots will be compared with the previous snapshots, showing any visual diffs.\n\n**Step 10:** Visit your project in Percy and you'll see a new build with the visual comparison between the two test runs.  Click anywhere on the Build 2 row that says '2 visual diffs'.  You can see the original snapshot on the left, and the new snapshot on the right.\n\nPercy has highlighted what's changed on the page! You can click on the highlight to reveal the underlying screenshot.\n\n![](/static/images/docs/tutorial-with-diffs-527751fd126843f42b7382189652218a.png)\n\n**Finished! ðŸ˜€**  \n\nFrom here, you can try making your own changes to the app if you like.  If you do, re-run the tests, and then you'll see your changes reflected in Percy.\n\nThis tutorial used TodoMVC with Percy already addedâ€”you can see how we [added Percy to TodoMVC](https://github.com/percy/example-rails/compare/pre-percy...master), and check out the [docs](/docs/clients/ruby/capybara) for how to add Percy to your own Rails app!\n",
            "storybook-for-react": "# Tutorial: Using Percy with Storybook for React\n\nThis 2 minute guide walks you through cloning an example storybook, making some changes, and seeing the visual difference in Percy's visual review tool.\n\nThe tutorial assumes you're already familiar with [Storybook](https://storybook.js.org/) and focuses on using it with Percy.  You'll still be able to follow along if you're not familiar with Storybook, but we won't spend time introducing Storybook's concepts.\n\nThe tutorial also assumes you have [node with npm](https://nodejs.org/en/download/) and [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git) installed.\n\n\n**Step 1:** Clone the example storybook and install dependencies:\n\n```bash\n$ git clone https://github.com/percy/example-storybook-for-react.git\n$ cd example-storybook-for-react\n$ npm install\n```\n\nThe example app and it's storybook will now be ready to go. Optionally, you can run `npm run start` to start the app, and explore it in your browser by visiting [http://localhost:3000/](http://localhost:3000/).  \n\nYou can also optionally run `npm run storybook` to start storybook, and view it in your browser at [http://localhost:9001/](http://localhost:9001/).\n\n**Step 2:** Sign in to Percy, create a new organization, skip the GitHub integration, and create a new project.  You can name both the organization and project 'todo'.\n\nAfter you've created the project, you'll be shown two environment variables.\n\n**Step 3:** In the shell window you're working in, export the 2 environment variables:\n\n```bash\n$ export PERCY_TOKEN=<your token here>\n$ export PERCY_PROJECT=<your project here>\n```\n\nNote: usually these would only be set up in your [CI environment](/docs), but to keep things simple we'll configure them in your shell so that Percy is enabled in your local environment.\n\n**Step 4:** Snapshot the storybook:\n\n```bash\n$ npm run snapshot\n```\n\nThis will run storybook's build-storybook command to create a static storybook, and then send it to Percy to generate screenshots for comparison.  You can view the screenshots in Percy now if you want, but there will be no visual comparisons yet.\n\n![](/static/images/docs/tutorial-react-for-storybook-without-diffs-37b8fe10cf64a85ca6ccdbf04faad5e0.png)\n\n**Step 5:** Use your text editor to edit `components/Footer.js` and remove line 59 that reads `{this.renderClearButton()}`.\n\n**Step 7:** Also edit `components/stories/MainSection.js` and insert a new line 18: `{ id: 'three', text: 'Item Three', completed: false },`\n\n**Step 8:** Commit the change:\n\n```bash\n$ git add . && git commit -m \"Removed clear button and added item.\"\n```\n\n**Step 9:** Run the snapshots again:\n\n```bash\n$ npm run snapshot\n```\n\nThis will rebuild and upload the modified storybook to Percy.  New snapshots will be taken and compared with the previous snapshots, showing any visual diffs.\n\n**Step 10:** Visit your project in Percy and you'll see a new build with the visual comparisons between the two runs.  Click anywhere on the Build 2 row that says '10 visual diffs'.  You can see the original snapshots on the left, and the new snapshots on the right.\n\nPercy has highlighted what's changed in the components! Component snapshots with the largest changes are shown first, so the story with the Item Three added is shown at the top of the list. You can click on the highlight to reveal the underlying screenshot.\n\n![](/static/images/docs/tutorial-react-for-storybook-with-diffs-cd9fa500390ce48fde67cfcb1f586042.png)\n\nIf you scroll down, you'll see the other stories that were impacted by removing the 'Clear completed' button.  Finally, you'll see the unchanged snapshots grouped together at the bottom of the list.\n\n**Finished! ðŸ˜€**\n\nFrom here, you can try making your own changes to the storybook if you like.  If you do, re-run the tests, and then you'll see your changes reflected in Percy.\n\nThis tutorial used a storybook with Percy already added. You can see how we [added Percy to the example storybook](https://github.com/percy/example-storybook-for-react/commit/89b55a0b3d55f6df5a437cb9049a0b15271a25ba), or check out the [docs](/docs/clients/javascript/react-storybook) for how to add Percy to your own Storybook!\n"